[{"/Users/iris/majoramassage/src/Components/Home.js":"1","/Users/iris/majoramassage/src/Components/Profile.js":"2","/Users/iris/majoramassage/src/Components/Auth.js":"3","/Users/iris/majoramassage/src/reportWebVitals.js":"4","/Users/iris/majoramassage/src/Components/Login.js":"5","/Users/iris/majoramassage/src/index.js":"6","/Users/iris/majoramassage/src/Components/Register.js":"7","/Users/iris/majoramassage/src/App.js":"8","/Users/iris/majoramassage/src/Components/AdminPage.js":"9","/Users/iris/majoramassage/src/Components/Information.js":"10","/Users/iris/majoramassage/src/Firebase/firebase.js":"11","/Users/iris/majoramassage/src/Components/cropImage.js":"12","/Users/iris/majoramassage/src/Components/ImageCropper.js":"13","/Users/iris/majoramassage/src/Components/MassageList.js":"14","/Users/iris/majoramassage/src/Components/Parts/Header.js":"15","/Users/iris/majoramassage/src/Components/Routes/EmployeeRoute.js":"16","/Users/iris/majoramassage/src/Components/Routes/LoggedinRoute.js":"17","/Users/iris/majoramassage/src/Components/Booking.js":"18","/Users/iris/majoramassage/src/Components/Routes/AdminRoute.js":"19"},{"size":7096,"mtime":1608890879026,"results":"20","hashOfConfig":"21"},{"size":18829,"mtime":1608813653830,"results":"22","hashOfConfig":"21"},{"size":2460,"mtime":1608827635974,"results":"23","hashOfConfig":"21"},{"size":362,"mtime":1606503430657,"results":"24","hashOfConfig":"21"},{"size":6838,"mtime":1608915750569,"results":"25","hashOfConfig":"21"},{"size":530,"mtime":1607537569111,"results":"26","hashOfConfig":"21"},{"size":10784,"mtime":1608915805913,"results":"27","hashOfConfig":"21"},{"size":2335,"mtime":1608827647813,"results":"28","hashOfConfig":"21"},{"size":7129,"mtime":1608730869009,"results":"29","hashOfConfig":"21"},{"size":21798,"mtime":1608891255987,"results":"30","hashOfConfig":"21"},{"size":604,"mtime":1606926058768,"results":"31","hashOfConfig":"21"},{"size":1025,"mtime":1607597381261,"results":"32","hashOfConfig":"21"},{"size":1263,"mtime":1607597126353,"results":"33","hashOfConfig":"21"},{"size":7393,"mtime":1608891259566,"results":"34","hashOfConfig":"21"},{"size":5247,"mtime":1608891611156,"results":"35","hashOfConfig":"21"},{"size":644,"mtime":1607793456386,"results":"36","hashOfConfig":"21"},{"size":524,"mtime":1607793150957,"results":"37","hashOfConfig":"21"},{"size":28257,"mtime":1608813793080,"results":"38","hashOfConfig":"21"},{"size":680,"mtime":1607793222676,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"q2mra1",{"filePath":"42","messages":"43","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"72","messages":"73","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"74","messages":"75","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"77"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":27,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/iris/majoramassage/src/Components/Home.js",["85","86","87","88","89","90","91","92","93","94","95","96","97"],"/Users/iris/majoramassage/src/Components/Profile.js",["98","99","100","101","102","103","104","105","106","107","108","109","110"],"import React, { useContext, useEffect, useState, useRef } from 'react'\n\nimport app, { firestore, storage } from \"../Firebase/firebase\"\n\nimport Header from \"./Parts/Header\"\n\nimport { Menu, Button, Divider, Descriptions, Select, message } from \"antd\";\nimport {\n    MenuUnfoldOutlined,\n    MenuFoldOutlined,\n    OrderedListOutlined,\n    EditOutlined,\n    FontColorsOutlined,\n    PictureOutlined\n  } from \"@ant-design/icons\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nimport ImageCropper from './ImageCropper'\n\n\nimport { AuthContext } from \"./Auth\"\n\nvar _ = require('lodash');\nfunction Profile() {\n    // const {width} = useWidth()\n\n    const inputFile = useRef(null) \n\n    const { Option } = Select;\n\n    const [isModalVisible, setIsModalVisible] = useState(false);\n    const [isModalVisible2, setIsModalVisible2] = useState(false);\n    const [ file, setFile ] = useState(\"\")\n\n    const [blob, setBlob] = useState(null)\n    const [inputImg64, setinputImg64] = useState('')\n\n    const [statusButt, setstatusButt] = useState(false);\n    const [ progress, setProgress ] = useState(false)\n\n    const [ pic, setPic ] = useState(\"\")\n    const [ loadingPic, setLoadingPic ] = useState(\"true\")\n    const [ changeName, setchangeName ] = useState(\"\")\n    const [ changeAge, setChangeAge ] = useState(\"\")\n    const [ type, setType ] = useState(\"\")\n\n    const [ collapse, setCollapse ] = useState(true)\n\n    const { currentUser, userData, Modal, message } = useContext(AuthContext)\n\n    const QueueOrderedDESC =  _.orderBy(userData.queue, [\"Date\", \"Time\"], [\"desc\", \"desc\"])// เรียงวันล่าสุดมาก่อน\n        const FilterByDone = _.filter(QueueOrderedDESC, ['status', \"Done\"])// Filter หาที่มี status เป็น Done\n            const FilterReviewed = FilterByDone.filter(item => {\n            return ![{totalStar: null}].some(NullStar => NullStar.totalStar === item.Review.totalStar)\n            })// Different หาคืวที่มีการให้คะแนนแล้ว เพื่อจะเอาไปแสดงในช่องรีวิว\n                const sumStar = FilterReviewed.reduce((prev, item)=>{\n                    return(item.Review.totalStar + prev )\n                    }, 0)// sum star ที่งหมด\n                    const finalStar = (sumStar/FilterReviewed.length).toFixed( 1 ) // หารให้เต็ม 5 \n\n    const getBlob = (blob) => {\n        // blob คือ ตัวไฟล์รูป ข้อมูลไฟล์รูปที่ได้มาจาก children \n        setBlob(blob)\n    }\n\n    const Style = {\n        Header: {\n            height: \"8vh\",\n            background: '#595959'\n        },\n        // preContent: {\n        //     height: \"30vh\"\n        // },\n        Content: {\n            minHeight: \"91vh\",\n            // paddingLeft: \"15%\", \n            // paddingRight: \"15%\"\n        }\n    }\n\n    const StyledRating = withStyles({\n        iconFilled: {\n          color: \"#ff6d75\"\n        },\n        iconHover: {\n          color: \"#ff3d47\"\n        }\n      })(Rating);\n\n\n    const tempPic = () => {\n        setTimeout(() => {\n            setLoadingPic(false)\n        }, 1000);\n    }\n\n{/* ////////////////////// Loop create Arr age */}\n    let Age = []\n    for(let i = 20; i<=35; i++){\n        Age.push(<Option value={i}>{i}</Option>)\n    }\n\n{/* ////////////////////// onChange Name or Age */}\n    const handlechangeName =  (e) => {\n        setchangeName(e.target.value)\n    }\n    const handlechangeAge = (value) => {\n        setChangeAge(value)\n    }\n\n{/* ////////////////////// Submit Name or Age */}\n    const submitAction = async () => {\n        setProgress(true)\n        setstatusButt(true)\n\n        try{\n            const userRef = firestore.collection(\"users\").doc(userData.uid)\n\n            const getDoc = await userRef.get()\n            const objDoc = await getDoc.data()\n            \n            const obj = type === \"name\" ? {\n               ...objDoc,\n                displayName: changeName\n           } : {\n                ...objDoc,\n                age: changeAge\n           }\n\n            await userRef.set(obj)\n\n                setchangeName('')\n\n                setIsModalVisible(false);\n                setProgress(false)\n                setstatusButt(false)\n\n        } catch(err) {\n            msgError(err)\n        }\n    }\n\n{/* ////////////////////// Modal Controller */}\n    const showModal = (item) => {\n        setIsModalVisible(true);\n        setType(item)\n        };\n    const handleCancel = () => {\n        setIsModalVisible(false);\n        setIsModalVisible2(false);\n        };\n    \n    const toggleCollapsed = () => {\n        setCollapse(!collapse)\n    }\n\n    const onButtonClick = () => {\n        // `current` points to the mounted file input element\n       inputFile.current.click();\n      };\n\n{/* ////////////////////// onChange File */}\n    const onInputChange = (e) => {\n        // convert image file to base64 string // beyondsundae\n\n        const file = e.target.files[0]\n        \n        if(file){\n            const isLt2M = file.size / 1024 / 1024 > 5 // limit ขนาดของไฟล์ \n            if (!isLt2M) {\n                setFile(file)\n\n                const reader = new FileReader()\n        \n                reader.onload = () => {\n                    setinputImg64(reader.result)\n                    // รูปที่ encode เป็น base64 แล้ว\n                }\n        \n                if (file) {\n                    reader.readAsDataURL(file)\n                    setIsModalVisible2(true);\n                } \n            } else{ alert('Image must smaller than 5MB!')}\n        } else{ return null}\n    }\n\n{/* ////////////////////// Submit Photo */}\n    const handleSubmitImage = async (e) => {\n        e.preventDefault()\n\n        const upPicRef = storage.child(userData.role + \"/\" + currentUser.uid )\n\n        if( file ) {\n            const fileName = \"ProfilePic.jpg\";\n            const targetRef = upPicRef.child(fileName)\n            const uploadTask = targetRef.put(blob, { contentType: blob.type })\n\n            const userRef = firestore.collection(\"users\").doc(userData.uid)\n\n            const getDoc = await userRef.get()\n            const objDoc = await getDoc.data()\n\n            setProgress(true)\n            setstatusButt(true)\n\n            uploadTask.on(\n                \"state_changed\", \n\n                ()=>{},\n\n                (error) => {\n                    console.log(error)\n                },\n\n                () => {\n                    setFile(\"\")\n\n                    uploadTask\n                    .snapshot\n                    .ref\n                    .getDownloadURL()\n                    .then(( photoURL ) => {\n                        const obj = {\n                            ...objDoc,\n                            urlPhoto: photoURL\n                        }\n    \n                        userRef.set(obj)\n                            \n                            setinputImg64(\"\")\n\n                            setIsModalVisible2(false); \n                            setProgress(false)\n                            setstatusButt(false)\n                    })\n                }\n            )\n        } else {\n            console.log(\"no upload\")\n            msgError(\"No Upload\")\n        }\n    }\n\n{/* ////////////////////// message */}\n    const msgError = (err) => {\n        message.error({\n            content: (<h5 className=\"mt-5\">{err}</h5>), \n            duration: 3,\n            style: {\n                marginTop: '8vh',\n            }})\n    }\n\n{/* ////////////////////// Get Photo when every update */}\n    useEffect(() => {\n      if(userData.role){\n        storage.child(userData.role + \"/\" + currentUser.uid + \"/ProfilePic.jpg\")\n        .getDownloadURL()\n        .then((url) => {\n            setPic(url)\n      }).catch((err) => {\n        console.log(err)\n        msgError(err)\n      })\n    } \n      \n      tempPic()\n    }, [userData.urlPhoto])\n\n    useEffect(() => {\n        // console.log()\n    }, [])\n    \n    return (\n        <div style={{textAlign: \"center\"}}>\n            <div className=\"container-fluid text-right \" style={Style.Header}>\n                <Header />\n            </div>\n\n            <div className=\"container-fluid mt-1 text-center border border-danger\" style={Style.Content}>\n                <div  className=\"row\">\n\n{/* ////////////////////// Side Menu */}\n                    <div className=\"col-12 col-sm-12 col-md-12 col-lg-2 col-xl- \">\n                        <div className=\"text-left\" style={{ width: 256 }}>\n                            <Button\n                            type=\"primary\"\n                            onClick={toggleCollapsed}\n                            style={{ marginBottom: 16 }}\n                            >\n\n                            {React.createElement(\n                                collapse ? MenuUnfoldOutlined : MenuFoldOutlined\n                            )}\n\n                            </Button>\n\n                            <Menu\n                            // defaultSelectedKeys={[\"1\"]}\n                            defaultOpenKeys={[\"sub1\"]}\n                            mode=\"inline\"\n                            theme=\"dark\"\n                            inlineCollapsed={collapse}\n                            >\n                                <Menu.Item key=\"1\" onClick={onButtonClick} icon={<PictureOutlined />}>\n                                    <input hidden type='file' id='file' accept=\"image/*\" ref={inputFile} style={{display: 'none'}} onChange={onInputChange}/>\n                                    เปลี่ยนรูป\n                                </Menu.Item>\n\n                                <Menu.Item key=\"2\" onClick={() => showModal(\"name\")} icon={<FontColorsOutlined />}>\n                                    แก้ไขชื่อ\n                                </Menu.Item>\n\n                                {userData.role === \"employee\"? (\n                                <>\n                                    <Menu.Item key=\"3\" onClick={() => showModal(\"age\")} icon={<EditOutlined />}>\n                                        แก้ไข อายุ\n                                    </Menu.Item>\n\n                                    <Menu.Item key=\"4\" icon={<OrderedListOutlined />}>\n                                        <a href=\"/masssagelists\" >\n                                            จัดการรายการนวด \n                                        </a>\n                                    </Menu.Item>\n                                </>\n                                ) : (null)}\n                            </Menu>\n                        </div>\n                    </div>\n\n{/* ////////////////////// Information */}\n                    <div className=\"col-12 col-sm-12 col-md-12 col-lg-10 col-xl- \">\n                        <div className=\"row\">\n                            <div className=\"col-12 my-5 text-left\">\n                              <h3>ข้อมูลของฉัน</h3>  \n                              <Divider />\n                            </div>\n\n{/* ////////////////////// Picture */}\n                            <div className=\"col-12 col-sm-12 col-md-12 col-lg-5 col-xl- mb-5\">\n                                {pic ? (\n                                    loadingPic ? null : ( <img src={pic} style={{width: \"40%\"}} />) \n                                )  \n                                : (\n                                    loadingPic ? null : ( <img src=\"https://icons-for-free.com/iconfiles/png/512/instagram+person+profile+icon-1320184028516722357.png\" style={{width: \"10%\"}}/> ) \n                                )}\n                                \n                            </div>\n\n{/* ////////////////////// Description */}\n                            <div className=\"col-12 col-sm-12 col-md-12 col-lg-6 col-xl-  pl-5 \">\n                                <Descriptions title=\"\" className=\"\" style={{marginLeft: \"5vh\"}}>\n                                    <Descriptions.Item label=\"ชื่อผู้ใช้\">{ userData? userData.displayName : null}</Descriptions.Item><br/><br/>\n                                    {userData.role === \"member\"? (null) : ( \n                                    <><Descriptions.Item label=\"อายุ\">{userData.age}</Descriptions.Item><br/><br/></>)}\n                                   \n                                    <Descriptions.Item label={userData.role === \"member\"? \"จำนวนที่เข้าใช้บริการ\" : \"จำนวนผู้เข้าใช้บริการ\"}>{ userData? FilterReviewed.length : null}</Descriptions.Item><br/><br/>\n                                    \n                                    {userData.role !== \"member\"? (\n                                    <>\n                                        <Descriptions.Item label=\"คะแนน: \">{FilterReviewed.length !== 0?(\n                                            <p style={{color: \"#ff6d75\"}}>{finalStar} : { userData? (<StyledRating\n                                                className=\"\"\n                                                size=\"small\"\n                                                precision={0.1}\n                                                value={finalStar}\n                                                icon={<FavoriteIcon fontSize=\"inherit\" />}\n                                                readOnly\n                                            />) : null}</p>):(<p>ยังไม่มีการรีวิว</p>)}\n                                        </Descriptions.Item><br/><br/>\n                                        </>) : null}\n                                    \n                                </Descriptions>\n\n                                <Descriptions title=\"\" className=\"mt-4\" style={{marginLeft: \"5vh\"}}>\n                                    <Descriptions.Item label=\"Email\">{currentUser.email.slice(0,1)+\"***\"+currentUser.email.slice(4)}</Descriptions.Item><br/><br/>\n                                    <Descriptions.Item label=\"UID\">{ userData? userData.uid.slice(0,6)+\"***\"+userData.uid.slice(9) : null }</Descriptions.Item>\n                                </Descriptions>\n                            </div>\n                        </div>\n                        \n                    {/* still have unset picture delay */}\n\n{/* ////////////////////// Modal Chhange Name */}\n                        <Modal\n                            title={type === \"name\"? \"เปลี่ยนชื่อ\" : \"แก้ไข อายุ\"}\n                            visible={isModalVisible}\n                            onOk={(e)=>submitAction(e)}\n                            onCancel={()=>handleCancel()}\n                            closable={false}\n                            okButtonProps={ statusButt }\n                            cancelButtonProps={ statusButt }\n                            footer={[\n                                <Button key=\"back\" loading={statusButt} onClick={()=>handleCancel()}>\n                                  ย้อนกลับ\n                                </Button>,\n                                <Button key=\"submit\" type=\"primary\" loading={statusButt} onClick={(e)=>submitAction(e)}>\n                                  ตกลง\n                                </Button>,\n                              ]}\n                        >\n                            <div className=\"text-center\">\n                                {type === \"name\"? (\n                                    <input type=\"text\" value={changeName} onChange={(e) => handlechangeName(e)} placeholder=\"ชื่อใหม่\" />\n                                ) : (\n                                    <Select defaultValue={userData.age} style={{ width: 120 }} onChange={handlechangeAge}>\n                                        {Age}\n                                    </Select>\n                                )}\n                                \n\n                                {progress ? (\n                                    <div className=\"text-center\">\n                                        <div className=\"spinner-border mt-5 my-3\" role=\"status\"/><br/>\n                                        <span className=\"\">Uploading...</span>\n                                    </div>\n                                    \n                                ) : null}\n                            </div>\n                        </Modal>\n\n{/* ////////////////////// Modal Cropper */}\n                        <Modal\n                            title=\"Crop Image\"\n                            visible={isModalVisible2}\n                            onOk={(e)=>handleSubmitImage(e)}\n                            onCancel={handleCancel}\n                            closable={false}\n                            okButtonProps={ statusButt }\n                            cancelButtonProps={ statusButt }\n                            footer={[\n                                <Button key=\"back\" loading={statusButt} onClick={handleCancel}>\n                                  ย้อนกลับ\n                                </Button>,\n                                <Button key=\"submit\" type=\"primary\" loading={statusButt} onClick={(e)=>handleSubmitImage(e)}>\n                                  ตกลง\n                                </Button>,\n                              ]}\n                        >\n                            {inputImg64 ? (\n                                <ImageCropper getBlob={getBlob} inputImg64={inputImg64}/> \n                                ) : null }\n                            \n                            {progress ? (\n                                <div className=\"text-center\">\n                                    <div className=\"spinner-border mt-5 my-3\" role=\"status\"/><br/>\n                                    <span className=\"\">Uploading...</span>\n                                </div>\n                                \n                            ) : null}\n                        </Modal>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Profile\n\n// const useWidth = () => {\n//     const [ width, setWidth ] = useState(window.innerWidth)\n\n//     const widthHandler =()=>{\n//         setWidth(window.innerWidth)\n//     }\n\n//     useEffect(()=>{\n//         window.addEventListener(\"resize\", widthHandler)\n\n//         return()=>{\n//             window.removeEventListener(\"resize\", widthHandler)\n//         }\n//     }, [])\n\n//     return { width };\n// }","/Users/iris/majoramassage/src/Components/Auth.js",["111","112","113","114"],"/Users/iris/majoramassage/src/reportWebVitals.js",[],["115","116"],"/Users/iris/majoramassage/src/Components/Login.js",["117","118","119","120"],"/Users/iris/majoramassage/src/index.js",[],["121","122"],"/Users/iris/majoramassage/src/Components/Register.js",["123","124","125","126","127","128"],"/Users/iris/majoramassage/src/App.js",[],"/Users/iris/majoramassage/src/Components/AdminPage.js",["129","130","131","132","133"],"import React, { useContext, useEffect, useState } from 'react'\n\nimport app, { firestore, storage } from \"../Firebase/firebase\"\n\nimport Header from \"./Parts/Header\"\n\nimport ImageCropper from './ImageCropper'\n\nimport { AuthContext } from \"./Auth\"\n\nfunction AdminPage() {\n    const { currentUser, userData, Modal } = useContext(AuthContext)\n\n    const [isModalVisible, setIsModalVisible] = useState(false);\n    const [statusButt, setstatusButt] = useState({ disabled: false });\n\n    const [pic, setPic] = useState(\"\")\n\n    const [ file, setFile ] = useState(\"\")\n\n    const [blob, setBlob] = useState(null)\n    const [inputImg64, setinputImg64] = useState('')\n\n    const [ loadingPic, setLoadingPic ] = useState(true)\n    const [ progress, setProgress ] = useState(false)\n\n    const upPicRef = storage.child(userData.role + \"/\" + currentUser.uid )\n\n    const tempPic = () => {\n        setTimeout(() => {\n            setLoadingPic(false)\n        }, 1000);\n    }\n\n    const getBlob = (blob) => {\n        // blob คือ ตัวไฟล์รูป ข้อมูลไฟล์รูปที่ได้มาจาก children \n        setBlob(blob)\n    }\n\n    const onInputChange = (e) => {\n        // convert image file to base64 string\n\n        const file = e.target.files[0]\n        \n        if(file){\n            const isLt2M = file.size / 1024 / 1024 > 5;\n            if (!isLt2M) {\n                setFile(file)\n\n                const reader = new FileReader()\n        \n                reader.onload = () => {\n                    setinputImg64(reader.result)\n                    // รูปที่ encode เป็น base64 แล้ว\n                }\n        \n                if (file) {\n                    reader.readAsDataURL(file)\n                    setIsModalVisible(true);\n                } \n            } else{ alert('Image must smaller than 5MB!')}\n        } else{ return null}\n    }\n\n    const handleSubmitImage = async (e) => {\n        e.preventDefault()\n        if( file ) {\n            const fileName = \"ProfilePic.jpg\";\n            const targetRef = upPicRef.child(fileName)\n            const uploadTask = targetRef.put(blob, { contentType: blob.type })\n\n            const userRef = firestore.collection(\"users\").doc(userData.uid)\n\n            const getDoc = await userRef.get()\n            const objDoc = await getDoc.data()\n\n            setProgress(true)\n            setstatusButt({ disabled: true })\n\n            uploadTask.on(\n                \"state_changed\", \n                ()=>{},\n                (error) => {\n                    console.log(error)\n                },\n                () => {\n                    setFile(\"\")\n\n                    uploadTask\n                    .snapshot\n                    .ref\n                    .getDownloadURL()\n                    .then(( photoURL ) => {\n                        const obj = {\n                            ...objDoc,\n                            urlPhoto: photoURL\n                        }\n    \n                        userRef\n                        .set(obj)\n\n                        setTimeout(() => {\n                            setinputImg64(\"\")\n\n                            setIsModalVisible(false); \n                            setProgress(false)\n                            setstatusButt({ disabled: false })\n                        }, 2000);\n                            \n                        \n                    })\n                    \n                }\n            )\n        } else{\n            console.log(\"no upload\")\n        }\n    }\n\n    // const showModal = () => {\n    //     setIsModalVisible(true);\n    //   };\n    \n    //   const handleOk = () => {\n    //     setIsModalVisible(false);\n    //   };\n    \n      const handleCancel = () => {\n        setIsModalVisible(false);\n        // setFile(\"\")\n      };\n\n    // useEffect(() => {\n    //     // console.log(currentUser)\n    //     // console.log(userData)\n    //     console.log(file)\n    // }, [file])\n\n    useEffect(() => {\n        tempPic()\n    }, [])\n\n    // storage.child(userData.role + \"/\" + currentUser.uid + \"/ProfilePic.jpg\")\n    //     .getDownloadURL()\n    //     .then((url) => {\n    //         setPic(url)\n    //     // This can be inserted into an <img> tag\n    //   }).catch((err) => {\n    //     console.log(err)\n    //   });\n    \n\n    const Style = {\n        Header: {\n            height: \"7vh\"\n        },\n        Content: {\n            height: \"92vh\"\n        }\n    }\n\n    return (\n        <div className='text-center'>\n             {/* <div className=\"container-fluid text-right border border-danger \" style={Style.Header} >\n             <button className=\"mt-3 btn btn-info\" >\n                <a href=\"/profile\" className=\"text-light\" style={{textDecoration: \"none\"}}>\n                Profile \n                </a>\n            </button>\n             </div> */}\n\n             <div className=\"container-fluid mt-1 border border-danger\" style={Style.Content}>\n                 {/* {pic ? (\n                    loadingPic ? null : ( <img src={pic} style={{width: \"20%\"}} />) \n                )  \n                : (\n                    loadingPic ? null : ( <img src=\"https://icons-for-free.com/iconfiles/png/512/instagram+person+profile+icon-1320184028516722357.png\" style={{width: \"10%\"}}/> ) \n                )} */}\n\n                <form>\n                    <div className=\"custom-file\">\n                        <input\n                            type=\"file\"\n                            // className=\"custom-file-input\"\n                            // id=\"customFile\"\n                            accept=\"image/*\"\n                            onChange={ onInputChange }\n                        />\n\n                    <input type=\"file\" id=\"myfile\" name=\"myfile\"/>\n\n                        {/* <label \n                            className=\"custom-file-label w-50 ml-5\"\n                            htmlFor=\"customFile\">\n                            {!file? <div>Browse Pic</div> : <div>{file.name}</div>}\n                        </label> */}\n                    </div>\n                </form>\n                \n                <Modal\n                    title=\"Crop Image\"\n                    visible={isModalVisible}\n                    onOk={(e)=>handleSubmitImage(e)}\n                    onCancel={handleCancel}\n                    closable={false}\n                    okButtonProps={ statusButt }\n                    cancelButtonProps={ statusButt }\n                >\n                    {inputImg64 ? (\n                        <ImageCropper getBlob={getBlob} inputImg64={inputImg64}/> \n                        ) : (\n                            null\n                        )\n                    }\n                    \n                    {progress ? (\n                        <div className=\"text-center\">\n                            <div className=\"spinner-border mt-5 my-3\" role=\"status\"/><br/>\n                            <span className=\"\">Uploading...</span>\n                        </div>\n                        \n                    ) : null}\n                </Modal>\n\n             </div>\n        </div>\n    )\n}\n\nexport default AdminPage\n","/Users/iris/majoramassage/src/Components/Information.js",["134","135","136","137","138","139","140","141","142","143","144","145"],"/Users/iris/majoramassage/src/Firebase/firebase.js",[],"/Users/iris/majoramassage/src/Components/cropImage.js",[],"/Users/iris/majoramassage/src/Components/ImageCropper.js",[],"/Users/iris/majoramassage/src/Components/MassageList.js",["146","147","148","149","150","151","152"],"/Users/iris/majoramassage/src/Components/Parts/Header.js",["153","154","155","156","157","158","159","160"],"/Users/iris/majoramassage/src/Components/Routes/EmployeeRoute.js",["161"],"import React, { useContext } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { AuthContext } from \"../Auth\";\n\nconst EmployeeRoute = ({ component: RouteComponent, ...rest }) => {\n  const {currentUser, userData} = useContext(AuthContext);\n  return (\n    <Route\n      {...rest}\n      render={routeProps => \n        !!currentUser ? ( \n          userData.role == \"employee\"? ( \n              <RouteComponent {...routeProps} /> \n            )\n            : ( \n            <Redirect to={\"/login\"} /> \n          ))\n        : ( \n        <Redirect to={\"/login\"} /> \n        )\n      }\n    />\n  );\n};\n\n\nexport default EmployeeRoute",["162","163"],"/Users/iris/majoramassage/src/Components/Routes/LoggedinRoute.js",[],["164","165"],"/Users/iris/majoramassage/src/Components/Booking.js",["166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192"],"/Users/iris/majoramassage/src/Components/Routes/AdminRoute.js",[],{"ruleId":"193","severity":1,"message":"194","line":3,"column":8,"nodeType":"195","messageId":"196","endLine":3,"endColumn":11},{"ruleId":"193","severity":1,"message":"197","line":3,"column":26,"nodeType":"195","messageId":"196","endLine":3,"endColumn":33},{"ruleId":"193","severity":1,"message":"198","line":7,"column":10,"nodeType":"195","messageId":"196","endLine":7,"endColumn":17},{"ruleId":"193","severity":1,"message":"199","line":15,"column":5,"nodeType":"195","messageId":"196","endLine":15,"endColumn":6},{"ruleId":"193","severity":1,"message":"200","line":19,"column":13,"nodeType":"195","messageId":"196","endLine":19,"endColumn":24},{"ruleId":"193","severity":1,"message":"201","line":21,"column":13,"nodeType":"195","messageId":"196","endLine":21,"endColumn":24},{"ruleId":"202","severity":1,"message":"203","line":47,"column":1,"nodeType":"204","messageId":"205","endLine":47,"endColumn":47},{"ruleId":"202","severity":1,"message":"203","line":96,"column":1,"nodeType":"204","messageId":"205","endLine":96,"endColumn":39},{"ruleId":"202","severity":1,"message":"203","line":106,"column":1,"nodeType":"204","messageId":"205","endLine":106,"endColumn":48},{"ruleId":"206","severity":1,"message":"207","line":113,"column":8,"nodeType":"208","endLine":113,"endColumn":10,"suggestions":"209"},{"ruleId":"210","severity":1,"message":"211","line":145,"column":33,"nodeType":"212","endLine":145,"endColumn":85},{"ruleId":"210","severity":1,"message":"211","line":147,"column":33,"nodeType":"212","endLine":147,"endColumn":170},{"ruleId":"213","severity":1,"message":"214","line":163,"column":72,"nodeType":"215","messageId":"216","endLine":163,"endColumn":74},{"ruleId":"193","severity":1,"message":"194","line":3,"column":8,"nodeType":"195","messageId":"196","endLine":3,"endColumn":11},{"ruleId":"193","severity":1,"message":"198","line":7,"column":55,"nodeType":"195","messageId":"196","endLine":7,"endColumn":62},{"ruleId":"202","severity":1,"message":"203","line":99,"column":1,"nodeType":"204","messageId":"205","endLine":99,"endColumn":51},{"ruleId":"202","severity":1,"message":"203","line":105,"column":1,"nodeType":"204","messageId":"205","endLine":105,"endColumn":52},{"ruleId":"202","severity":1,"message":"203","line":113,"column":1,"nodeType":"204","messageId":"205","endLine":113,"endColumn":50},{"ruleId":"202","severity":1,"message":"203","line":145,"column":1,"nodeType":"204","messageId":"205","endLine":145,"endColumn":48},{"ruleId":"202","severity":1,"message":"203","line":164,"column":1,"nodeType":"204","messageId":"205","endLine":164,"endColumn":45},{"ruleId":"202","severity":1,"message":"203","line":190,"column":1,"nodeType":"204","messageId":"205","endLine":190,"endColumn":44},{"ruleId":"202","severity":1,"message":"203","line":247,"column":1,"nodeType":"204","messageId":"205","endLine":247,"endColumn":39},{"ruleId":"202","severity":1,"message":"203","line":257,"column":1,"nodeType":"204","messageId":"205","endLine":257,"endColumn":59},{"ruleId":"206","severity":1,"message":"217","line":271,"column":8,"nodeType":"208","endLine":271,"endColumn":27,"suggestions":"218"},{"ruleId":"210","severity":1,"message":"211","line":345,"column":59,"nodeType":"212","endLine":345,"endColumn":99},{"ruleId":"210","severity":1,"message":"211","line":348,"column":59,"nodeType":"212","endLine":348,"endColumn":193},{"ruleId":"193","severity":1,"message":"219","line":1,"column":38,"nodeType":"195","messageId":"196","endLine":1,"endColumn":51},{"ruleId":"193","severity":1,"message":"220","line":5,"column":17,"nodeType":"195","messageId":"196","endLine":5,"endColumn":23},{"ruleId":"193","severity":1,"message":"198","line":5,"column":25,"nodeType":"195","messageId":"196","endLine":5,"endColumn":32},{"ruleId":"206","severity":1,"message":"221","line":44,"column":8,"nodeType":"208","endLine":44,"endColumn":17,"suggestions":"222"},{"ruleId":"223","replacedBy":"224"},{"ruleId":"225","replacedBy":"226"},{"ruleId":"193","severity":1,"message":"227","line":1,"column":38,"nodeType":"195","messageId":"196","endLine":1,"endColumn":49},{"ruleId":"210","severity":1,"message":"211","line":93,"column":21,"nodeType":"212","endLine":98,"endColumn":27},{"ruleId":"210","severity":1,"message":"211","line":102,"column":25,"nodeType":"212","endLine":106,"endColumn":27},{"ruleId":"228","severity":1,"message":"229","line":160,"column":37,"nodeType":"212","endLine":160,"endColumn":49},{"ruleId":"223","replacedBy":"230"},{"ruleId":"225","replacedBy":"231"},{"ruleId":"193","severity":1,"message":"227","line":1,"column":38,"nodeType":"195","messageId":"196","endLine":1,"endColumn":49},{"ruleId":"232","severity":1,"message":"233","line":54,"column":38,"nodeType":"234","messageId":"235","endLine":54,"endColumn":40},{"ruleId":"232","severity":1,"message":"233","line":68,"column":46,"nodeType":"234","messageId":"235","endLine":68,"endColumn":48},{"ruleId":"232","severity":1,"message":"233","line":91,"column":31,"nodeType":"234","messageId":"235","endLine":91,"endColumn":33},{"ruleId":"210","severity":1,"message":"211","line":152,"column":25,"nodeType":"212","endLine":157,"endColumn":27},{"ruleId":"210","severity":1,"message":"211","line":161,"column":25,"nodeType":"212","endLine":165,"endColumn":27},{"ruleId":"193","severity":1,"message":"194","line":3,"column":8,"nodeType":"195","messageId":"196","endLine":3,"endColumn":11},{"ruleId":"193","severity":1,"message":"236","line":5,"column":8,"nodeType":"195","messageId":"196","endLine":5,"endColumn":14},{"ruleId":"193","severity":1,"message":"237","line":17,"column":12,"nodeType":"195","messageId":"196","endLine":17,"endColumn":15},{"ruleId":"193","severity":1,"message":"238","line":17,"column":17,"nodeType":"195","messageId":"196","endLine":17,"endColumn":23},{"ruleId":"193","severity":1,"message":"239","line":24,"column":13,"nodeType":"195","messageId":"196","endLine":24,"endColumn":23},{"ruleId":"193","severity":1,"message":"194","line":3,"column":8,"nodeType":"195","messageId":"196","endLine":3,"endColumn":11},{"ruleId":"193","severity":1,"message":"197","line":3,"column":26,"nodeType":"195","messageId":"196","endLine":3,"endColumn":33},{"ruleId":"193","severity":1,"message":"240","line":31,"column":13,"nodeType":"195","messageId":"196","endLine":31,"endColumn":21},{"ruleId":"193","severity":1,"message":"241","line":33,"column":13,"nodeType":"195","messageId":"196","endLine":33,"endColumn":21},{"ruleId":"193","severity":1,"message":"201","line":35,"column":13,"nodeType":"195","messageId":"196","endLine":35,"endColumn":24},{"ruleId":"202","severity":1,"message":"203","line":74,"column":1,"nodeType":"204","messageId":"205","endLine":74,"endColumn":48},{"ruleId":"202","severity":1,"message":"203","line":101,"column":1,"nodeType":"204","messageId":"205","endLine":101,"endColumn":43},{"ruleId":"202","severity":1,"message":"203","line":204,"column":1,"nodeType":"204","messageId":"205","endLine":204,"endColumn":40},{"ruleId":"202","severity":1,"message":"203","line":224,"column":1,"nodeType":"204","messageId":"205","endLine":224,"endColumn":45},{"ruleId":"202","severity":1,"message":"203","line":236,"column":1,"nodeType":"204","messageId":"205","endLine":236,"endColumn":42},{"ruleId":"206","severity":1,"message":"242","line":248,"column":8,"nodeType":"208","endLine":248,"endColumn":10,"suggestions":"243"},{"ruleId":"210","severity":1,"message":"211","line":268,"column":29,"nodeType":"212","endLine":268,"endColumn":140},{"ruleId":"193","severity":1,"message":"194","line":3,"column":8,"nodeType":"195","messageId":"196","endLine":3,"endColumn":11},{"ruleId":"193","severity":1,"message":"197","line":3,"column":26,"nodeType":"195","messageId":"196","endLine":3,"endColumn":33},{"ruleId":"193","severity":1,"message":"244","line":13,"column":21,"nodeType":"195","messageId":"196","endLine":13,"endColumn":32},{"ruleId":"193","severity":1,"message":"201","line":21,"column":13,"nodeType":"195","messageId":"196","endLine":21,"endColumn":24},{"ruleId":"206","severity":1,"message":"245","line":87,"column":8,"nodeType":"208","endLine":87,"endColumn":26,"suggestions":"246"},{"ruleId":"228","severity":1,"message":"247","line":171,"column":37,"nodeType":"212","endLine":171,"endColumn":99},{"ruleId":"228","severity":1,"message":"247","line":197,"column":41,"nodeType":"212","endLine":197,"endColumn":103},{"ruleId":"193","severity":1,"message":"248","line":3,"column":15,"nodeType":"195","messageId":"196","endLine":3,"endColumn":24},{"ruleId":"193","severity":1,"message":"197","line":3,"column":26,"nodeType":"195","messageId":"196","endLine":3,"endColumn":33},{"ruleId":"193","severity":1,"message":"249","line":5,"column":24,"nodeType":"195","messageId":"196","endLine":5,"endColumn":31},{"ruleId":"193","severity":1,"message":"250","line":16,"column":13,"nodeType":"195","messageId":"196","endLine":16,"endColumn":23},{"ruleId":"193","severity":1,"message":"251","line":16,"column":25,"nodeType":"195","messageId":"196","endLine":16,"endColumn":38},{"ruleId":"193","severity":1,"message":"252","line":21,"column":36,"nodeType":"195","messageId":"196","endLine":21,"endColumn":48},{"ruleId":"210","severity":1,"message":"211","line":34,"column":29,"nodeType":"212","endLine":36,"endColumn":83},{"ruleId":"232","severity":1,"message":"233","line":70,"column":71,"nodeType":"234","messageId":"235","endLine":70,"endColumn":73},{"ruleId":"232","severity":1,"message":"233","line":12,"column":25,"nodeType":"234","messageId":"235","endLine":12,"endColumn":27},{"ruleId":"223","replacedBy":"253"},{"ruleId":"225","replacedBy":"254"},{"ruleId":"223","replacedBy":"255"},{"ruleId":"225","replacedBy":"256"},{"ruleId":"193","severity":1,"message":"194","line":3,"column":8,"nodeType":"195","messageId":"196","endLine":3,"endColumn":11},{"ruleId":"193","severity":1,"message":"197","line":3,"column":26,"nodeType":"195","messageId":"196","endLine":3,"endColumn":33},{"ruleId":"193","severity":1,"message":"201","line":18,"column":13,"nodeType":"195","messageId":"196","endLine":18,"endColumn":24},{"ruleId":"202","severity":1,"message":"203","line":81,"column":1,"nodeType":"204","messageId":"205","endLine":81,"endColumn":44},{"ruleId":"232","severity":1,"message":"233","line":84,"column":29,"nodeType":"234","messageId":"235","endLine":84,"endColumn":31},{"ruleId":"232","severity":1,"message":"233","line":89,"column":28,"nodeType":"234","messageId":"235","endLine":89,"endColumn":30},{"ruleId":"232","severity":1,"message":"233","line":95,"column":30,"nodeType":"234","messageId":"235","endLine":95,"endColumn":32},{"ruleId":"232","severity":1,"message":"233","line":96,"column":30,"nodeType":"234","messageId":"235","endLine":96,"endColumn":32},{"ruleId":"232","severity":1,"message":"233","line":101,"column":26,"nodeType":"234","messageId":"235","endLine":101,"endColumn":28},{"ruleId":"202","severity":1,"message":"203","line":109,"column":1,"nodeType":"204","messageId":"205","endLine":109,"endColumn":47},{"ruleId":"202","severity":1,"message":"203","line":116,"column":1,"nodeType":"204","messageId":"205","endLine":116,"endColumn":45},{"ruleId":"232","severity":1,"message":"233","line":129,"column":33,"nodeType":"234","messageId":"235","endLine":129,"endColumn":35},{"ruleId":"202","severity":1,"message":"203","line":143,"column":1,"nodeType":"204","messageId":"205","endLine":143,"endColumn":43},{"ruleId":"232","severity":1,"message":"233","line":159,"column":37,"nodeType":"234","messageId":"235","endLine":159,"endColumn":39},{"ruleId":"202","severity":1,"message":"203","line":184,"column":1,"nodeType":"204","messageId":"205","endLine":184,"endColumn":43},{"ruleId":"232","severity":1,"message":"233","line":187,"column":29,"nodeType":"234","messageId":"235","endLine":187,"endColumn":31},{"ruleId":"210","severity":1,"message":"211","line":203,"column":41,"nodeType":"212","endLine":203,"endColumn":135},{"ruleId":"232","severity":1,"message":"233","line":234,"column":46,"nodeType":"234","messageId":"235","endLine":234,"endColumn":48},{"ruleId":"232","severity":1,"message":"233","line":237,"column":56,"nodeType":"234","messageId":"235","endLine":237,"endColumn":58},{"ruleId":"232","severity":1,"message":"233","line":247,"column":76,"nodeType":"234","messageId":"235","endLine":247,"endColumn":78},{"ruleId":"202","severity":1,"message":"203","line":325,"column":1,"nodeType":"204","messageId":"205","endLine":325,"endColumn":47},{"ruleId":"202","severity":1,"message":"203","line":332,"column":1,"nodeType":"204","messageId":"205","endLine":332,"endColumn":45},{"ruleId":"202","severity":1,"message":"203","line":359,"column":1,"nodeType":"204","messageId":"205","endLine":359,"endColumn":45},{"ruleId":"202","severity":1,"message":"203","line":399,"column":1,"nodeType":"204","messageId":"205","endLine":399,"endColumn":40},{"ruleId":"202","severity":1,"message":"203","line":418,"column":1,"nodeType":"204","messageId":"205","endLine":418,"endColumn":42},{"ruleId":"202","severity":1,"message":"203","line":425,"column":1,"nodeType":"204","messageId":"205","endLine":425,"endColumn":49},{"ruleId":"210","severity":1,"message":"211","line":492,"column":29,"nodeType":"212","endLine":492,"endColumn":122},"no-unused-vars","'app' is defined but never used.","Identifier","unusedVar","'storage' is defined but never used.","'message' is defined but never used.","'_' is assigned a value but never used.","'allFavorite' is assigned a value but never used.","'currentUser' is assigned a value but never used.","no-lone-blocks","Nested block is redundant.","BlockStatement","redundantNestedBlock","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'allEmployees'. Either include it or remove the dependency array.","ArrayExpression",["257"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","array-callback-return","Array.prototype.some() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","React Hook useEffect has missing dependencies: 'currentUser.uid', 'msgError', and 'userData.role'. Either include them or remove the dependency array.",["258"],"'createContext' is defined but never used.","'Button' is defined but never used.","React Hook useEffect has a missing dependency: 'userRef'. Either include it or remove the dependency array.",["259"],"no-native-reassign",["260"],"no-negated-in-lhs",["261"],"'useCallback' is defined but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md",["260"],["261"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'Header' is defined but never used.","'pic' is assigned a value but never used.","'setPic' is assigned a value but never used.","'loadingPic' is assigned a value but never used.","'DateTime' is assigned a value but never used.","'progress' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'copyQueue'. Either include it or remove the dependency array.",["262"],"'ColumnGroup' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'individiList'. Either include it or remove the dependency array.",["263"],"The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","'firestore' is defined but never used.","'Divider' is defined but never used.","'pixelValue' is assigned a value but never used.","'setPixelValue' is assigned a value but never used.","'allEmployees' is assigned a value but never used.",["260"],["261"],["260"],["261"],{"desc":"264","fix":"265"},{"desc":"266","fix":"267"},{"desc":"268","fix":"269"},"no-global-assign","no-unsafe-negation",{"desc":"270","fix":"271"},{"desc":"272","fix":"273"},"Update the dependencies array to be: [allEmployees]",{"range":"274","text":"275"},"Update the dependencies array to be: [currentUser.uid, msgError, userData.role, userData.urlPhoto]",{"range":"276","text":"277"},"Update the dependencies array to be: [loading, userRef]",{"range":"278","text":"279"},"Update the dependencies array to be: [copyQueue]",{"range":"280","text":"281"},"Update the dependencies array to be: [allMassageLitsts, individiList]",{"range":"282","text":"283"},[3089,3091],"[allEmployees]",[7767,7786],"[currentUser.uid, msgError, userData.role, userData.urlPhoto]",[1383,1392],"[loading, userRef]",[8293,8295],"[copyQueue]",[2705,2723],"[allMassageLitsts, individiList]"]