[{"/Users/iris/majoramassage/src/Firebase/firebase.js":"1","/Users/iris/majoramassage/src/Components/Information.js":"2","/Users/iris/majoramassage/src/index.js":"3","/Users/iris/majoramassage/src/Components/Home.js":"4","/Users/iris/majoramassage/src/Components/MassageList.js":"5","/Users/iris/majoramassage/src/Components/Routes/EmployeeRoute.js":"6","/Users/iris/majoramassage/src/Components/Routes/AdminRoute.js":"7","/Users/iris/majoramassage/src/Components/Routes/LoggedinRoute.js":"8","/Users/iris/majoramassage/src/Components/Profile.js":"9","/Users/iris/majoramassage/src/Components/Auth.js":"10","/Users/iris/majoramassage/src/Components/Login.js":"11","/Users/iris/majoramassage/src/Components/Register.js":"12","/Users/iris/majoramassage/src/Components/Forgotpassword.js":"13","/Users/iris/majoramassage/src/Components/Booking.js":"14","/Users/iris/majoramassage/src/Components/Parts/Header.js":"15","/Users/iris/majoramassage/src/App.js":"16","/Users/iris/majoramassage/src/Components/Parts/Footer.js":"17","/Users/iris/majoramassage/src/reportWebVitals.js":"18","/Users/iris/majoramassage/src/Components/cropImage.js":"19"},{"size":604,"mtime":1606926058768,"results":"20","hashOfConfig":"21"},{"size":25341,"mtime":1609161208013,"results":"22","hashOfConfig":"21"},{"size":529,"mtime":1609073537569,"results":"23","hashOfConfig":"21"},{"size":9799,"mtime":1609160621668,"results":"24","hashOfConfig":"21"},{"size":7392,"mtime":1609161400523,"results":"25","hashOfConfig":"21"},{"size":644,"mtime":1607793456386,"results":"26","hashOfConfig":"21"},{"size":680,"mtime":1607793222676,"results":"27","hashOfConfig":"21"},{"size":617,"mtime":1609086004356,"results":"28","hashOfConfig":"21"},{"size":18459,"mtime":1609161267375,"results":"29","hashOfConfig":"21"},{"size":3208,"mtime":1609161815807,"results":"30","hashOfConfig":"21"},{"size":7806,"mtime":1609161698543,"results":"31","hashOfConfig":"21"},{"size":12829,"mtime":1609161479697,"results":"32","hashOfConfig":"21"},{"size":6608,"mtime":1609161654651,"results":"33","hashOfConfig":"21"},{"size":29241,"mtime":1609161294633,"results":"34","hashOfConfig":"21"},{"size":5090,"mtime":1609161750948,"results":"35","hashOfConfig":"21"},{"size":2432,"mtime":1609158455613,"results":"36","hashOfConfig":"21"},{"size":1326,"mtime":1609161758415,"results":"37","hashOfConfig":"21"},{"size":362,"mtime":1606503430657,"results":"38","hashOfConfig":"21"},{"size":1025,"mtime":1607597381261,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"q2mra1",{"filePath":"43","messages":"44","errorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"49","messages":"50","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"52"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"42"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"60","messages":"61","errorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"62","messages":"63","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"65"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"52"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"71","messages":"72","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"73","messages":"74","errorCount":0,"warningCount":29,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/iris/majoramassage/src/Firebase/firebase.js",[],["86","87"],"/Users/iris/majoramassage/src/Components/Information.js",["88","89","90","91","92","93","94","95","96","97","98","99","100","101"],"/Users/iris/majoramassage/src/index.js",[],"/Users/iris/majoramassage/src/Components/Home.js",["102","103","104","105","106","107","108","109","110","111"],"/Users/iris/majoramassage/src/Components/MassageList.js",["112","113","114","115","116","117","118"],"import React, { useEffect, useContext, useState } from 'react'\n\nimport app, { firestore, storage } from \"../Firebase/firebase\"\n\nimport Header from \"./Parts/Header\"\nimport Footer from \"./Parts/Footer\"\n\nimport { Table, Space, Divider } from \"antd\";\n// import { difference, intersection } from 'lodash';\n\nimport { AuthContext } from \"./Auth\"\n\nfunction MassageList() {\n    const { width, currentUser, userData, message } = useContext(AuthContext)\n\n    const { Column } = Table;\n\n    const [ allMassageLitsts, setAllmassageLists ] = useState([])\n    const [ individiList, setindividiList ] = useState([])\n\n    const [ finalAllMassageLitsts, setfinalAllMassageLitsts ] = useState([])\n    const [ finalIndividiList, setfinalIndividiList ] = useState([])\n\n    const Style = {\n        Header: {\n            height: width < 500 ? \"25vh\" : \"8vh\",\n            background: '#444B54'\n        },\n        // preContent: {\n        //     height: \"30vh\"\n        // },\n        Content: {\n            height: width < 500 ? \"62vh\" : \"81vh\",\n            padding: \"0px\"\n        },\n        Footer: {\n            paddingLeft: \"10%\",\n            paddingRight: \"10%\"\n        },\n    }\n    \n{/* ////////////////////// message */}\n    const msgError = (err) => {\n        message.error({\n            content: (<h5 className=\"mt-5\">{err}</h5>), \n            duration: 3,\n            style: {\n                marginTop: '8vh',\n            }})\n    }\n\n    //Get allMassageLists and Set currntUser List :อันดับแรก\n    useEffect(() => {\n        const getAllMassageLists = firestore\n        .collection(\"massageLists\")\n        .doc(\"allMassageLitsts\")\n\n        getAllMassageLists\n        .onSnapshot((snapshot)=>{\n            const rawData = snapshot.data()\n            const finalData = rawData.listMassage\n\n            // console.log(finalData)\n            let tempArr = []\n            finalData.forEach((doc)=>{\n                tempArr = [ ...tempArr, doc]\n            })\n\n            setAllmassageLists(tempArr)\n        })\n\n        setindividiList(userData.listMassage)\n\n        //ติดตาม userData เพราะเวลาอัพเดทค่าจะได้มา trig useEffect นี้ทำงาน\n    }, [userData])\n\n    //แจกข้อมูลไป 2 ส่วน :อันดับสอง\n    useEffect(() => {\n        //Show AllList which not occur in IndividualList (เอาเฉพาะ AllList ที่ไม่มีใน IndividualList) (Different)\n        let finalAll = allMassageLitsts.filter(All => {\n            return !individiList.some(Indivi => Indivi.id === All.id)})\n            setfinalAllMassageLitsts(finalAll)\n\n        //Show IndividualList which not occur in AllList (เอาเฉพาะ IndividualList ที่มีใน AllList) (จริงๆไม่ได้มีก็ได้เพราะ แค่เอา List ของ พนักงานมาแสดง =____=) (Intersection)\n        let finalIndivi = allMassageLitsts.filter(All => {\n            return individiList.some(Indivi => Indivi.id === All.id)})\n            setfinalIndividiList(finalIndivi)\n\n    }, [allMassageLitsts])\n\n    useEffect(() => {\n        // console.log(finalAllMassageLitsts)\n        // console.log(finalIndividiList)\n    }, [finalAllMassageLitsts, finalIndividiList])\n\n    const AddData = async ( Selected ) => {\n        try{\n            const userRef = firestore.collection(\"users\").doc(userData.uid)\n            \n            const getDoc = await userRef.get()\n            const objDoc = await getDoc.data()\n\n            let tempArr = []\n\n            tempArr = [ ...finalIndividiList, Selected ] //ตบข้อมูลเก่ามา พร้อมยัดข้อมูลใหม่เข้าไปด้วย Put prevData and newData together \n            // console.log(tempArr)\n\n            const obj = {\n                ...objDoc,\n                listMassage: tempArr\n            }\n            userRef.set(obj) \n\n        } catch (err) {\n            // console.log(err)\n            msgError(err)\n        }\n    }\n\n    const DeleteData = async ( Selected ) => {\n        try{\n            const userRef = firestore.collection(\"users\").doc(userData.uid)\n\n            const getDoc = await userRef.get()\n            const objDoc = await getDoc.data()\n           \n            let finalDelete = finalIndividiList.filter(Indivi => {\n                return ![Selected].some(SelectedList => SelectedList.id === Indivi.id)\n            }) //Different : Return finalIndividiList ที่ไม่มี Selected \n\n            // let Diff = _.difference(finalIndividiList, [Selected]) // Lodash version\n\n            const obj = {\n                ...objDoc,\n                listMassage: finalDelete\n            }\n            userRef.set(obj)\n\n        } catch (err) {\n            // console.log(err)\n            msgError(err)\n        }\n    }\n\n    return (\n        <div>\n            <div className=\"container-fluid text-right\" style={Style.Header}>\n                <Header />\n            </div>\n\n            <div className=\"container-fluid mt-1 text-center\" style={Style.Content}>\n                <div className=\"row justify-content-center \">\n                    <div style={{width: width < 500 ? \"80%\" : \"50%\"}}>\n\n                    <h2>ลิสต์การนวดในคลัง</h2>\n\n                    <Table dataSource={finalAllMassageLitsts}  pagination={false} rowKey=\"id\" >\n                        <Column title=\"id\" dataIndex=\"id\" key=\"id\" />\n                        <Column title=\"name\" dataIndex=\"name\" />\n                        <Column title=\"price\" dataIndex=\"price\"  />\n                        <Column\n                        title=\"Action\"\n                        key=\"action\"\n                        render={(text, record, index) => (\n                            <Space size=\"middle\">\n                                <a style={{color: \"green\"}} onClick={() => { AddData(text) }}>เพิ่ม</a>\n                            </Space>\n                        )}\n                        />\n                    </Table>\n                    </div>\n                </div>\n\n                <Divider />\n\n                <div className=\"row justify-content-center \">\n                    <div style={{width: width < 500 ? \"80%\" : \"50%\"}}>\n\n                    <h2>ลิสต์การนวดของคุณ</h2>\n\n                        <Table dataSource={finalIndividiList} pagination={false} rowKey=\"id\" >\n                            <Column title=\"id\" dataIndex=\"id\" key=\"id\" />\n                            <Column title=\"name\" dataIndex=\"name\" />\n                            <Column title=\"price\" dataIndex=\"price\"  />\n                            <Column\n                            title=\"Action\"\n                            key=\"action\"\n                            render={(text, record) => (\n                                <Space size=\"middle\">\n                                    <a style={{color: \"red\"}} onClick={() => { DeleteData(text)}}>ลบ</a>\n                                </Space>\n                            )}\n                            />\n                        </Table>\n                    </div>\n                </div>\n            </div>\n\n            <div style={Style.Footer}>\n                <Footer />\n            </div>\n        </div>\n    )\n}\n\nexport default MassageList\n",["119","120"],"/Users/iris/majoramassage/src/Components/Routes/EmployeeRoute.js",["121"],"import React, { useContext } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { AuthContext } from \"../Auth\";\n\nconst EmployeeRoute = ({ component: RouteComponent, ...rest }) => {\n  const {currentUser, userData} = useContext(AuthContext);\n  return (\n    <Route\n      {...rest}\n      render={routeProps => \n        !!currentUser ? ( \n          userData.role == \"employee\"? ( \n              <RouteComponent {...routeProps} /> \n            )\n            : ( \n            <Redirect to={\"/login\"} /> \n          ))\n        : ( \n        <Redirect to={\"/login\"} /> \n        )\n      }\n    />\n  );\n};\n\n\nexport default EmployeeRoute","/Users/iris/majoramassage/src/Components/Routes/AdminRoute.js",[],"/Users/iris/majoramassage/src/Components/Routes/LoggedinRoute.js",["122"],"/Users/iris/majoramassage/src/Components/Profile.js",["123","124","125","126","127","128","129","130","131","132","133","134","135","136"],"/Users/iris/majoramassage/src/Components/Auth.js",["137","138","139","140"],"import React, { useState, useEffect, createContext } from 'react'\nimport app from \"../Firebase/firebase\"\nimport { firestore } from '../Firebase/firebase'\n\nimport { Modal, message } from 'antd';\n\nimport Rating from \"@material-ui/lab/Rating\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nexport const AuthContext = React.createContext()\n\nexport const AuthProvider = ({ children }) => {\n    const {width} = useWidth()\n\n    const [ currentUser, setCurrentUser ] = useState(null)\n\n    const [ loading, setLoading ] = useState(true)\n    \n    const [ userData, setUserData ] = useState()\n    const [ allEmployees, setallEmployees ] = useState([])\n\n    const userRef = firestore.collection(\"users\")\n\n    useEffect(async () => {\n       await app\n        .auth()\n        .onAuthStateChanged( (user)=>{\n            setCurrentUser(user)\n            \n            if(user){\n               userRef.doc(user.uid)\n                .onSnapshot((doc)=>{\n                    if(doc.data()){\n                        const objDoc = doc.data()\n                        setUserData(objDoc)\n                    }\n                })\n            }\n            \n            setTimeout(() => {\n               setLoading(false)\n            }, 900);\n            \n        })\n    }, [loading])\n\n    useEffect(() => {\n        const getEmployees = firestore\n        .collection(\"users\")\n        .where(\"role\", \"==\", \"employee\")\n        \n        getEmployees.onSnapshot((snapshot) => {\n            let tempArr = [] \n            snapshot.forEach((doc) => {\n                // console.log(doc.data())\n                tempArr = [ ...tempArr, doc.data() ]\n                // get from collection must foreach before use them T__T remember remember\n            })\n            \n            setallEmployees(tempArr)\n        })\n\n    }, [])\n\n    useEffect(() => {\n        // console.group(\"fromResponse\", currentUser)\n        // console.log(allEmployees)\n    }, [allEmployees])\n\n    useEffect(() => {\n        console.time(currentUser)\n        console.timeEnd(currentUser)\n    }, [currentUser])\n\n    if(loading){\n        return(\n            <div style={{textAlign: \"center\", marginTop: \"150px\"}}>\n                <h1>\n                    <img \n                        src=\"https://firebasestorage.googleapis.com/v0/b/majoramassage.appspot.com/o/loading%2F78e826ca1b9351214dfdd5e47f7e2024.gif?alt=media&token=38b92308-51b2-4574-a027-227975ba44ac\"\n                        style={{width: width < 800? (\"100%\") : (\"50%\")}}\n                        />\n                </h1>\n            </div>\n        )\n    }\n\n    return (\n        <AuthContext.Provider value={{ width, currentUser, userData, allEmployees, Rating, FavoriteIcon, withStyles, Modal, message }}>\n            {children}\n        </AuthContext.Provider>\n        \n    )\n}\n\nconst useWidth = () => {\n    const [ width, setWidth ] = useState(window.innerWidth)\n\n    const widthHandler =()=>{\n        setWidth(window.innerWidth)\n    }\n\n    useEffect(()=>{\n        window.addEventListener(\"resize\", widthHandler)\n\n        return()=>{\n            window.removeEventListener(\"resize\", widthHandler)\n        }\n    }, [])\n\n    return { width };\n}",["141","142"],"/Users/iris/majoramassage/src/Components/Login.js",["143","144","145","146","147"],"import React, { useState, useEffect, useCallback, useContext } from 'react'\nimport { Redirect } from 'react-router'\n\nimport app from \"../Firebase/firebase\"\n\nimport Header from \"./Parts/Header\"\nimport Footer from \"./Parts/Footer\"\n\nimport { Form, Input, Button } from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\n\nimport { AuthContext } from \"./Auth\"\n\nconst Login = () => {\n    const { currentUser, message, width } = useContext(AuthContext)\n\n    const [ email, setEmail ] = useState('')\n    const [ password, setPassword ] = useState('')\n\n    const [ loading, setLoading ] = useState(true)\n\n    const Style = {\n        Header: {\n            height: width < 500 ? \"25vh\" : \"8vh\",\n            background: '#444B54'\n        },\n        // preContent: {\n        //     height: \"30vh\"\n        // },\n        Content: {\n            height: width < 500 ? \"62vh\" : \"61vh\",\n            paddingLeft: width < 800 ? (\"none\") : (\"10%\"), \n            paddingRight: width < 800 ? (\"none\") : (\"10%\"), \n        }\n    }\n\n{/* //////////////////////  Message */}\n    const msgSuccess = (item) => {\n        message.success({\n            content: (<h5 className=\"mt-5\">{item}</h5>), \n            duration: 3,\n            style: {\n                marginTop: '8vh',\n            }})\n            .then()\n    }\n\n    const msgError = (err) => {\n        message.error({\n            content: (<h5 className=\"mt-5\">{err}</h5>), \n            duration: 3,\n            style: {\n                marginTop: '8vh',\n            }})\n    }\n\n    const handleLogin = async () => {\n        try{\n            await app\n            .auth()\n            .signInWithEmailAndPassword( email, password)\n            .then(() => {\n                setLoading(true)\n                msgSuccess(\"ยินดีต้อนรับ\")\n            })\n\n            // setTimeout(() => {\n                setLoading(false)\n            // }, 2000)\n        }\n        catch(err){\n            setPassword(\" \")\n            msgError(err)\n        }\n    }\n    \n    const onFinishFailed = (errorInfo) => {\n        console.log('Failed:', errorInfo);\n      };\n\n    useEffect(() => {\n        // setTimeout(() => {\n            setLoading(false)\n        // }, 500);\n    }, [])\n\n    if( currentUser ){\n        return <Redirect to=\"/\" />\n    }\n\n    if ( loading ){\n        return(\n            <div style={{textAlign: \"center\", marginTop: \"150px\"}}>\n                <h1>\n                    <img \n                        src=\"https://firebasestorage.googleapis.com/v0/b/majoramassage.appspot.com/o/loading%2F78e826ca1b9351214dfdd5e47f7e2024.gif?alt=media&token=38b92308-51b2-4574-a027-227975ba44ac\"\n                        style={{width: width < 800? (\"100%\") : (\"50%\")}}\n                        />\n                </h1>\n            </div>\n        )\n    }\n\n    return (\n        <div>\n            <div className=\"container-fluid text-right\" style={Style.Header}>\n                <Header />\n            </div>\n\n            <div className=\"container-fluid mt-1 pt-3 text-center \" style={Style.Content}>\n                <div className=\"row\">\n                    <div className=\"col-12 col-md-6 col-lg-6 order-last order-sm-first\" style={{background: '#444B54'}}>\n                    <img \n                        className=\"\"\n                        src=\"https://firebasestorage.googleapis.com/v0/b/majoramassage.appspot.com/o/logo%2Fmassage.svg?alt=media&token=91738933-8495-4723-94f2-5f6f3d98ffdc\" \n                        style={{width: width < 500 ? (\"60%\") : (\"90%\"), paddingTop: \"50px\"}}\n                        />\n                    </div>\n\n                    <div className=\"col-12 col-md-6 col-lg-6 order-first order-sm-last\" style={{height: \"90vh\"}}>\n                        <img \n                            className=\"mt-5\"\n                            src=\"https://firebasestorage.googleapis.com/v0/b/majoramassage.appspot.com/o/logo%2Flogo2.png?alt=media&token=7447933b-890f-4ddf-947f-ba7a455cb7cb\" \n                            style={{width: width < 800 ? (\"60%\") : (\"70%\")}}   \n                        />\n\n                        <div className=\"mt-5\">\n                            <h1>เข้าสู่ระบบ</h1>\n                        </div>\n\n                        <div className=\"text-center mt-5\">\n                            <Form\n                                style={{width: \"50%\"}}\n                                name=\"basic\"\n                                onFinish={handleLogin}\n                                onFinishFailed={onFinishFailed}\n                                className=\"mx-auto\"\n                                >\n                                <Form.Item\n                                    name=\"email\"\n                                    rules={[\n                                        {\n                                            type: 'email',\n                                            message: 'กรุณากรอกอีเมลให้ถูกต้อง',\n                                          },\n                                          {\n                                            required: true,\n                                            message: 'กรุณากรอกอีกเมล',\n                                          },\n                                    ]}\n                                    onChange={(e)=>{setEmail(e.target.value)}}\n                                >\n                                    <Input \n                                        prefix={<UserOutlined className=\"site-form-item-icon\" />} \n                                        placeholder=\"อีเมล\"/>\n                                        \n                                </Form.Item>\n\n                                <Form.Item\n                                    name=\"password\"\n                                    rules={[\n                                    {\n                                        required: true,\n                                        message: 'กรุณากรอกรหัสผ่าน',\n                                    },\n                                    ]}\n                                    onChange={(e)=>{setPassword(e.target.value)}}\n                                    style={{marginBottom: \"0px\"}}\n                                >\n                                    <Input.Password  \n                                        prefix={<LockOutlined className=\"site-form-item-icon\" />}\n                                        type=\"password\"\n                                        placeholder=\"รหัสผ่าน\" \n                                        \n                                     />\n                                </Form.Item>\n\n                                <Form.Item className=\"text-right\">\n                                    <a  href=\"/forgot\">\n                                        ลืมรหัสผ่านใช่หรือไม่ ?\n                                    </a>\n                                </Form.Item>\n\n                                <Form.Item > \n                                    <Button type=\"primary\" htmlType=\"submit\" style={{width: \"100%\"}}>\n                                        ลงชื่อเข้าใช้\n                                    </Button><br/>\n                                        หรือ ? <a href=\"/register\">สมัครตอนนี้เลย!</a>\n                                </Form.Item>\n                            </Form>\n                        </div>\n                        \n                    </div>\n                </div>\n\n                <div className=\"mt-5\">\n                    <Footer />\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Login\n","/Users/iris/majoramassage/src/Components/Register.js",["148","149","150","151","152","153","154","155"],"/Users/iris/majoramassage/src/Components/Forgotpassword.js",["156","157","158","159","160"],"/Users/iris/majoramassage/src/Components/Booking.js",["161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189"],"import React, { useContext, useEffect, useState } from 'react'\n\nimport app, { firestore, storage } from \"../Firebase/firebase\"\n\nimport Header from \"./Parts/Header\"\nimport Footer from \"./Parts/Footer\"\n\nimport { Card, Button, Tabs, Empty, Divider, Input } from \"antd\";\nimport { ExclamationCircleTwoTone, CheckCircleTwoTone } from '@ant-design/icons';\n\nimport { AuthContext } from \"./Auth\"\n\nvar _ = require('lodash');\nconst Booking = () => {\n    const {  width, currentUser, userData, Rating, FavoriteIcon, withStyles, Modal, message } = useContext(AuthContext)\n\n    const [ page, setPage ] = useState(\"1\")\n    const [ isModalVisible, setIsModalVisible ] = useState(false);\n    const [ info, setInfo ] = useState(\"\")\n    const [ finalStars, setFinalStars ] = useState()\n\n    const [value, setValue] = React.useState({\n        Review:{\n            Comment: \"\",\n            Reviewer: \"\",\n                Stars: {\n                    BodyShape: 0,\n                    BodySkin: 0,\n                    Cuteness: 0,\n                    Friendly: 0,\n                    Massage: 0,\n                },\n            totalStar: null\n        }\n    });\n\n    const { confirm } = Modal;\n    const { TabPane } = Tabs;\n    const { TextArea } = Input;\n\n    const Reject = \"Reject\"\n    const Done = \"Done\"\n\n    const QueueOrdered = _.orderBy(userData.queue, [\"Date\", \"Time\"], [\"asc\", \"asc\"])\n    const QueueOrderedDESC =  _.orderBy(userData.queue, [\"Date\", \"Time\"], [\"desc\", \"desc\"])\n\n    const FilterByNotDone = _.filter(QueueOrdered, ['status', \"NotDone\"]);\n    const FilterByReject = _.filter(QueueOrderedDESC, ['status', \"Reject\"]);\n    const FilterByDone = _.filter(QueueOrderedDESC, ['status', \"Done\"]);\n\n\n    const Style = {\n        Header: {\n            height: width < 500 ? \"25vh\" : \"8vh\",\n            background: '#444B54'\n        },\n        // preContent: {\n        //     height: \"30vh\"\n        // },\n        Content: {\n            height: width < 500 ? \"99vh\" : \"91vh\",\n            margin: \"0px\",\n        },\n        Footer: {\n            paddingLeft: \"10%\",\n            paddingRight: \"10%\"\n        },\n        CardOverflow: {\n            width: \"100%\", \n            height: \"80vh\", \n            margin:\"0px\", \n            overflow: \"auto\"\n        }\n    }\n\n{/* //////////////////////  Message */}\n    const msgSuccess = () => {\n        message.success({\n            content: (<h5 className=\"mt-5\">ยืนยันรายการสำเร็จ</h5>), \n            duration: 3,\n            style: {\n                marginTop: '8vh',\n              },});\n    }\n\n    const msgError = (err) => {\n        message.error({\n            content: (<h5 className=\"mt-5\">{err}</h5>), \n            duration: 3,\n            style: {\n                marginTop: '8vh',\n              },});\n    }\n    \n    const StyledRating = withStyles({\n        iconFilled: {\n          color: \"#ff6d75\"\n        },\n        iconHover: {\n          color: \"#ff3d47\"\n        }\n      })(Rating);\n\n{/* ////////////////////// Modal Action */}\n    const onAction = (item, Decision) => {\n        confirm({\n            title: (Decision==\"Reject\"?(\n                <h4>ต้องการ{<h2 style={{color: \"red\", display: \"inline\"}}>ยกเลิก</h2>}รายการนี้ใช่หรือไม่</h4>\n            ) : (\n                <h4>ต้องการ{<h2 style={{color: \"#00caac\", display: \"inline\"}}>ยืนยัน</h2>}รายการนี้ใช่หรือไม่</h4>\n                )),\n            icon: (Decision==\"Reject\"?(\n                <ExclamationCircleTwoTone twoToneColor=\"red\"/>\n            ):(\n                <CheckCircleTwoTone twoToneColor=\"#00caac\"/>\n            ) ),\n            // content: 'Some descriptions',\n            okText: (Decision==\"Reject\"?('ยกเลิก'):('ยืนยัน')),\n            okType: (Decision==\"Reject\"?('danger'):(\"#00caac\")),\n            width: width < 800 ? \"100%\" : \"30%\",\n            cancelText: 'กลับไปก่อนหน้า',\n           \n            onOk() {\n                (Decision==\"Reject\"? (setAction(item, Decision)):(setAction(item, Decision)))\n            },\n            onCancel() {\n              console.log('Cancel');\n            },\n          });\n    }\n\n{/* ////////////////////// Action Function */}\n    const setAction = async (item, Decision) => {\n        //เอาไว้สับขาหลอกสำหรับ user ทั้ง member และ employee ให้การเขียนข้อมูลลงไปขึ้นอยู่กับ role ของ user ที่ล็อคอินอยู่\n        const userRef = firestore.collection(\"users\").doc(userData.role === \"employee\"? userData.uid: (Decision === \"Reject\"? userData.uid : null)) //ใช้ uid เพื่ออิงถึง doc\n        const user2Ref = firestore.collection(\"users\").doc(userData.role === \"employee\"? item.MemberKey: (Decision === \"Reject\"? (item.ChiropactorKey) : null)) //ใช้ uid เพื่ออิงถึง doc\n\n        try{\n{/* //////////////////////  For Employee */}    \n            const getDocUser = await userRef.get()\n            const objDocUser = await getDocUser.data()\n\n            // เข้าถึง Queue เพื่อ Different queue ที่กดเลืือกออกไป\n            let DifferentQueue = objDocUser.queue.filter(QueueOld => {\n                return ![item].some(SelectedItem => SelectedItem.createed === QueueOld.createed)\n            }) //Different : Return QueueOld ที่ไม่มี SelectedItem \n\n            // สร้าง queueเดิมที่ถูกตัดออก ใหม่โดยเปลี่ยน status to Reject\n            let RejectObj = {}\n            RejectObj = {\n                ...item,\n                status: Decision==\"Reject\"? \"Reject\" : \"Done\"\n            }\n\n            // นำมา union กันกับ queue ที่เหลือ\n            let finalQueue = [...DifferentQueue, RejectObj]\n\n            // ยัด finalQueue ลงไปใน Queue เพื่อรวมกับข้อมูลเก่าทั้งหมด \n            const objUser = {...objDocUser,\n                queue:[ ...finalQueue\n                ]}\n\n            // set ขื้นไป \n            await userRef.set(objUser)\n\n{/* //////////////////////  For Member */}    \n            const getDocUser2 = await user2Ref.get()\n            const objDocUser2 = await getDocUser2.data()\n\n            let DifferentQueue2 = objDocUser2.queue.filter(QueueOld => {\n                return ![item].some(SelectedItem => SelectedItem.createed === QueueOld.createed)\n            }) //Different : Return QueueOld ที่ไม่มี SelectedItem \n\n            let IntersectionQueue2 = objDocUser2.queue.filter(QueueOld => {\n                return [item].some(SelectedItem => SelectedItem.createed === QueueOld.createed)\n            }) //Intersection : Return เฉพาะ QueueOld ที่มี SelectedItem ได้กลับมาเป็น Obj in Arr\n\n            IntersectionQueue2.forEach(element => {\n                let RejectObj2 = {}\n                RejectObj2 = {\n                    ...element,\n                    status: Decision==\"Reject\"? \"Reject\" : \"Done\"\n                }\n\n                let finalQueue2 = [...DifferentQueue2, RejectObj2]\n\n                const objUser2 = {...objDocUser2,\n                    queue:[ ...finalQueue2\n                    ]}\n                \n                user2Ref.set(objUser2)\n                msgSuccess()\n\n                // console.log(objUser)         \n            });\n\n            if(Decision!==\"Reject\"){\n                setPage(\"2\")\n            }\n            \n        } catch (err) {\n            console.log(err)\n            msgError(err)\n        }\n    }\n\n{/* ////////////////////// return Card */}   \n    const CardOrder = (Filtered) => {\n        return(\n            Filtered.length == 0? (\n                <Empty\n                    description=\"ไม่มีการจอง\"\n                    imageStyle={{height: \"300px\"}}\n                /> \n            ) : (\n                Filtered.map((item, index) => {\n                    return(\n                        <Card\n                            key={index}\n                            type=\"inner\"\n                            className=\"mb-3\"\n                            title={\n                            <div className=\"text-left mx-5\">\n                                <div className=\"row\">\n                                    <div className=\"col\">\n                                        <img src={item.ChiropactorPic || item.MemberPic} className=\"mx-5\" style={{height: \"150px\"}} />\n                                    </div>\n                                    <div className=\"col pt-3\">\n                                        <div className=\"col-12  \">\n                                            <h3>{item.name}</h3>\n                                        </div>\n                                        <div className=\"col-12 \">\n                                            {userData.role !== \"member\"? (\n                                                <h5>คุณ {item.MemberName}</h5>\n                                            ):(\n                                                <h5>น้อง {item.ChiropactorName}</h5>\n                                            )}\n                                            \n                                        </div>\n                                    </div>\n                                    <div className=\"col pt-3 text-right \">\n                                        <div className=\"col-12  \">\n                                            <h5>วันที่ {item.Date}</h5>\n                                        </div>\n                                        <div className=\"col-12\">\n                                            <h5>เวลา {item.Time}</h5>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>}\n                            // extra={<a href=\"#\">More</a>}\n                        >\n                            <div className=\"text-right\">\n                                <h3> ค่าบริการ: ฿{item.price}.00</h3>\n                            </div>\n                            <div className=\"text-right mt-5\">\n                                {item.status == \"NotDone\"?(\n                                    //Logic แสดงปุ่มครับ เขียนโดยใช้ความรู้สึกความตั้งใจที่เต็มเปี่ยม\n                                    <>\n                                        {userData.role == \"employee\"?(\n                                            <Button className=\"mr-3\" type=\"primary\" size=\"large\"  disabled={false} onClick={ ()=>onAction(item, Done)} style={{background: \"#00caac\", border: \"1px solid transparent\"}}>\n                                                ยืนยัน\n                                            </Button>\n                                        ):(null)\n                                        }\n                                        <Button className=\"mr-3\" type=\"primary\" danger size=\"large\" onClick={()=>onAction(item, Reject)} style={{background: \"#eb655b\"}}>\n                                            ยกเลิก\n                                        </Button>\n                                    </>\n                                ):(item.status !== \"Reject\"&&userData.role == \"member\"&&item.Review.totalStar===null?(\n                                    <Button className=\"mr-3\" type=\"primary\" size=\"large\"  disabled={false} onClick={ ()=>showModal(item) } style={{background: \"#ff85c0\", border: \"1px solid transparent\"}}>\n                                        ให้คะแนน\n                                    </Button>\n                                ):(item.status !== \"Reject\"&&item.Review.totalStar===null?(\n                                    <Button disabled className=\"mr-3\" type=\"primary\" size=\"large\" >\n                                        รอการรีวิว\n                                    </Button>\n                                        ):(item.status !== \"Reject\"?(<Button className=\"mr-3\" type=\"primary\" size=\"large\"  disabled={false} onClick={ ()=>SeeMyReview(item)} style={{background: \"#108ee9\", border: \"1px solid transparent\"}}>\n                                        ดูคะแนน\n                                    </Button>):(null)\n                                    )\n                                )\n                                )}\n                            </div>\n                        </Card>\n                    )\n                })\n            )\n        )\n    }\n\n    function SeeMyReview(item) {\n        Modal.info({\n          title: 'คะแนนที่รีวิว',\n          content: (\n            <div >\n              <h5>หน้าตา: \n                    <StyledRating\n                        size=\"large\"\n                        value={item.Review.Stars.Cuteness}\n                        icon={<FavoriteIcon fontSize=\"inherit\" />}\n                        readOnly\n                    /></h5> \n                <h5>รูปร่าง: \n                    <StyledRating\n                        size=\"large\"\n                        value={item.Review.Stars.BodyShape}\n                        icon={<FavoriteIcon fontSize=\"inherit\" />}\n                        readOnly\n                    /></h5> \n                <h5>ผิวพรรณ: \n                    <StyledRating\n                        size=\"large\"\n                        value={item.Review.Stars.BodySkin}\n                        icon={<FavoriteIcon fontSize=\"inherit\" />}\n                        readOnly\n                    /></h5> \n                <h5>งานนวด: \n                    <StyledRating\n                        size=\"large\"\n                        value={item.Review.Stars.Massage}\n                        icon={<FavoriteIcon fontSize=\"inherit\" />}\n                        readOnly\n                    /></h5> \n                <h5>ความเป็นกันเอง: \n                    <StyledRating\n                        size=\"large\"\n                        value={item.Review.Stars.Friendly}\n                        icon={<FavoriteIcon fontSize=\"inherit\" />}\n                        readOnly\n                    /></h5> \n\n                    <Divider orientation=\"center\"><h5>คะแนนรวม: {item.Review.totalStar} <FavoriteIcon style={{color: \"#ff6d75\"}}/></h5> </Divider>\n\n                <h5 className=\"mt-5\">ความคิดเห็นเพิ่มเติม</h5>\n                    <Card  style={{ width: 300 }}>\n                        {item.Review.Comment}\n                    </Card>\n\n                <h5 className=\"mt-5\">ผู้รีวิว: {item? (item.Review.Reviewer):(null)}</h5>\n            </div>\n          ),\n          onOk() {},\n        });\n      }\n      \n\n{/* //////////////////////  Action Function*/}   \n    const setRateStars = async () => {\n\n        let sumStars = value.Review.Stars.BodyShape + value.Review.Stars.BodySkin + value.Review.Stars.Cuteness + value.Review.Stars.Friendly + value.Review.Stars.Massage\n        let finalStars = sumStars/5\n\n        console.log(finalStars)\n\n        setValue(\n            {Review: {\n                ...value.Review, \n                totalStar: finalStars, \n                \n        }})\n\n        //เป็นการเอาข้อมูล Rating เขียนซ้อนไป ชายจะมีข้อมูลของหญิง หญิงจะมีข้อมูลของชาย ต้องสับขาเขียนทับ\n        const userRef = firestore.collection(\"users\").doc(userData.uid) //ใช้ uid เพื่ออิงถึง doc\n        const user2Ref = firestore.collection(\"users\").doc(info.ChiropactorKey) //ใช้ uid เพื่ออิงถึง doc\n\n        try{\n{/* //////////////////////  For Employee */}    \n            const getDocUser = await userRef.get()\n            const objDocUser = await getDocUser.data()\n\n            // เข้าถึง Queue เพื่อ Different queue ที่กดเลืือกออกไป\n            let DifferentQueue = objDocUser.queue.filter(QueueOld => {\n                return ![info].some(SelectedItem => SelectedItem.createed === QueueOld.createed)\n            }) //Different : Return QueueOld ที่ไม่มี SelectedItem \n\n            // สร้าง queueเดิมที่ถูกตัดออก ใหม่โดยเปลี่ยน status to Reject\n            let ReviewedObj = {}\n            ReviewedObj = {\n                ...info,\n                ...value\n            }\n\n            // นำมา union กันกับ queue ที่เหลือ\n            let finalQueue = [...DifferentQueue, ReviewedObj]\n\n            // ยัด finalQueue ลงไปใน Queue เพื่อรวมกับข้อมูลเก่าทั้งหมด \n            const objUser = {...objDocUser,\n                queue:[ ...finalQueue\n                ]}\n\n            // set ขื้นไป \n            await userRef.set(objUser)\n\n{/* //////////////////////  For Employee */}    \n            const getDocUser2 = await user2Ref.get()\n            const objDocUser2 = await getDocUser2.data()\n\n            let DifferentQueue2 = objDocUser2.queue.filter(QueueOld => {\n                return ![info].some(SelectedItem => SelectedItem.createed === QueueOld.createed)\n            }) //Different : Return QueueOld ที่ไม่มี SelectedItem \n\n            let IntersectionQueue2 = objDocUser2.queue.filter(QueueOld => {\n                return [info].some(SelectedItem => SelectedItem.createed === QueueOld.createed)\n            }) //Intersection : Return เฉพาะ QueueOld ที่มี SelectedItem ได้กลับมาเป็น Obj in Arr\n\n            IntersectionQueue2.forEach(element => {\n                // สร้าง queueเดิมที่ถูกตัดออก ใหม่โดยเปลี่ยน status to Reject\n                let ReviewedObj2 = {}\n                ReviewedObj2 = {\n                    ...element,\n                    ...value\n                }\n\n                let finalQueue2 = [...DifferentQueue2, ReviewedObj2]\n\n                const objUser2 = {...objDocUser2,\n                    queue:[ ...finalQueue2\n                    ]}\n                \n                user2Ref.set(objUser2)\n                msgSuccess()\n\n                // console.log(objUser)\n                // console.log(objUser2)\n            });\n            \n        } catch (err) {\n            console.log(err)\n            msgError(err)\n        }\n\n    }\n\n{/* //////////////////////  Sum Stars */}\nuseEffect(() => {\n    let sumStars = value.Review.Stars.BodyShape + value.Review.Stars.BodySkin + value.Review.Stars.Cuteness + value.Review.Stars.Friendly + value.Review.Stars.Massage\n    let finalStars = sumStars/5\n    // console.log(finalStars)\n    setFinalStars(finalStars)\n    \n}, [value])\n\n{/* //////////////////////  Update value after setFinalstars / ถ้าไม่อัพดกทมันจะเป็น prev finalstars */}\nuseEffect(() => {\n    // console.log(value)\n    setValue(\n        {Review: {\n            ...value.Review, \n            totalStar: finalStars, \n            \n    }})\n}, [finalStars]) \n\n{/* //////////////////////  Modal Controller */}\n    const showModal = (item) => {\n        setIsModalVisible(true);\n        setInfo(item)\n      };\n    \n      const handleOk = () => {\n        setIsModalVisible(false);\n        setRateStars()\n      };\n    \n      const handleCancel = () => {\n        setIsModalVisible(false);\n      };\n\n    useEffect(() => {\n        // console.log()\n    }, [])\n\n    return (\n        <div>\n            <div className=\"container-fluid text-right\" style={Style.Header}>\n                <Header />\n            </div>\n\n            <div className=\"container-fluid row justify-content-center text-center\" style={Style.Content}>\n\n{/* //////////////////////  Reuse Card map */}    \n                <Tabs activeKey={page} onChange={(activeKey) => setPage(activeKey)} size=\"large\" className=\"my-4\" style={{ width: \"100vh\" }}>\n                    <TabPane tab=\"รอการยืนยัน\" key=\"1\">\n                        <div className=\"\" style={Style.CardOverflow}>\n                            {CardOrder (FilterByNotDone)}\n                        </div>\n                    </TabPane>\n                    <TabPane tab=\"สำเร็จ\" key=\"2\">\n                        <div className=\"\" style={Style.CardOverflow}>\n                            {CardOrder (FilterByDone)}\n                        </div>\n                    </TabPane>\n                    <TabPane tab=\"ยกเลิก\" key=\"3\">\n                        <div className=\"\" style={Style.CardOverflow}>\n                            {CardOrder (FilterByReject)}\n                        </div>\n                    </TabPane>\n                </Tabs>\n\n               \n            </div>\n\n            <div style={Style.Footer}>\n                <Footer />\n            </div>\n\n{/* //////////////////////  Modal RatingStars */}    \n            <Modal \n                title=\"การให้คะแนนของคุณ\" \n                visible={isModalVisible} \n                onOk={handleOk} \n                onCancel={handleCancel}\n                closable={false}\n                width=\"40%\"\n                footer={[\n                    <Button key=\"back\" onClick={handleCancel}>\n                      ย้อนกลับ\n                    </Button>,\n                    <Button key=\"submit\" type=\"primary\" onClick={handleOk}>\n                      ตกลง\n                    </Button>,\n                  ]}\n            >\n                <div className=\"text-left \">\n                    <div className=\"row\">\n                        <div className=\"col-4\">\n                            <img src={info.ChiropactorPic || info.MemberPic} className=\"mx-5\" style={{width: \"150px\"}} />\n                        </div>\n                        <div className=\"col-8 pt-3\">\n                            <div className=\"col-12  \">\n                                <h3>{info.name}</h3>\n                            </div>\n                            <div className=\"col-12 \">\n                                {userData.role !== \"member\"? (\n                                    <h5>คุณ {info.MemberName}</h5>\n                                ):(\n                                    <h5>น้อง {info.ChiropactorName}</h5>\n                                )}\n                            </div>\n                        </div>\n                        <div className=\" col-12 pt-3 text-right \">\n                            <div className=\"col-12  \">\n                                <h5>วันที่ {info.Date}</h5>\n                            </div>\n                            <div className=\"col-12\">\n                                <h5>เวลา {info.Time}</h5>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"text-right\">\n                            <h3> ค่าบริการ: ฿{info.price}.00</h3>\n                            *กรุณาชำระค่าบริการที่เคาเตอร์\n                    </div>\n\n                    <Divider orientation=\"left\"><h5>การรีวิวของคุณ</h5></Divider>\n\n{/* //////////////////////  Rating Zone */} \n                        <h5>หน้าตา: \n                            <StyledRating\n                                size=\"large\"\n                                value={value.Review.Stars.Cuteness}\n                                precision={1}\n                                onChange={(event, newValue) => {newValue == null ? setValue(\n                                    {Review: {\n                                        ...value.Review, \n                                        totalStar: finalStars, \n                                        Reviewer:info.Review.Reviewer,\n                                            Stars: {\n                                                ...value.Review.Stars, \n                                                Cuteness: 0, },\n                                }}) : setValue(\n                                    {Review: {\n                                        ...value.Review, \n                                        totalStar: finalStars, \n                                        Reviewer:info.Review.Reviewer, \n                                            Stars: {\n                                                 ...value.Review.Stars, \n                                                 Cuteness: newValue}}})}}\n                                icon={<FavoriteIcon fontSize=\"inherit\" />}\n                            /></h5> \n                        <h5>รูปร่าง: \n                            <StyledRating\n                                size=\"large\"\n                                value={value.Review.Stars.BodyShape}\n                                precision={1}\n                                onChange={(event, newValue) => {newValue == null ? setValue({Review:{...value.Review, totalStar: finalStars, Reviewer:info.Review.Reviewer,\n                                        Stars: {...value.Review.Stars, BodyShape: 0, },\n                                }}) : setValue({Review:{...value.Review, totalStar: finalStars, Reviewer:info.Review.Reviewer, Stars: { ...value.Review.Stars, BodyShape: newValue}}})}}\n                                icon={<FavoriteIcon fontSize=\"inherit\" />}\n                            /></h5> \n                        <h5>ผิวพรรณ: \n                            <StyledRating\n                                size=\"large\"\n                                value={value.Review.Stars.BodySkin}\n                                precision={1}\n                                onChange={(event, newValue) => {newValue == null ? setValue({Review:{...value.Review, totalStar: finalStars, Reviewer:info.Review.Reviewer,\n                                        Stars: {...value.Review.Stars, BodySkin: 0, },\n                                }}) : setValue({Review:{...value.Review, totalStar: finalStars, Reviewer:info.Review.Reviewer, Stars: { ...value.Review.Stars, BodySkin: newValue}}})}}\n                                icon={<FavoriteIcon fontSize=\"inherit\" />}\n                            /></h5> \n                        <h5>งานนวด: \n                            <StyledRating\n                                size=\"large\"\n                                value={value.Review.Stars.Massage}\n                                precision={1}\n                                onChange={(event, newValue) => {newValue == null ? setValue({Review:{...value.Review, totalStar: finalStars, Reviewer:info.Review.Reviewer,\n                                        Stars: {...value.Review.Stars, Massage: 0, },\n                                }}) : setValue({Review:{...value.Review, totalStar: finalStars, Reviewer:info.Review.Reviewer, Stars: { ...value.Review.Stars, Massage: newValue}}})}}\n                                icon={<FavoriteIcon fontSize=\"inherit\" />}\n                            /></h5> \n                        <h5>ความเป็นกันเอง: \n                            <StyledRating\n                                size=\"large\"\n                                value={value.Review.Stars.Friendly}\n                                precision={1}\n                                onChange={(event, newValue) => {newValue == null ? setValue({Review:{...value.Review, totalStar: finalStars, Reviewer:info.Review.Reviewer,\n                                        Stars: {...value.Review.Stars, Friendly: 0, },\n                                }}) : setValue({Review:{...value.Review, totalStar: finalStars, Reviewer:info.Review.Reviewer, Stars: { ...value.Review.Stars, Friendly: newValue}}})}}\n                                icon={<FavoriteIcon fontSize=\"inherit\" />}\n                            /></h5> \n\n                            <Divider orientation=\"center\"><h5>คะแนนรวม: {finalStars} <FavoriteIcon style={{color: \"#ff6d75\"}}/></h5> </Divider>\n\n                    <h5 className=\"mt-5\">ความคิดเห็นเพิ่มเติม</h5>\n                    <TextArea rows={4} value={value.Review.Comment} showCount maxLength={100} onChange={(e)=>setValue({Review:{...value.Review, Comment: e.target.value}})} />\n\n                    <h5 className=\"mt-5\">ผู้รีวิว: {info? (info.Review.Reviewer):(null)}</h5>\n                </div>\n            </Modal>\n        </div>\n    )\n}\n\nexport default Booking\n","/Users/iris/majoramassage/src/Components/Parts/Header.js",["190","191","192","193","194","195","196"],"/Users/iris/majoramassage/src/App.js",[],"/Users/iris/majoramassage/src/Components/Parts/Footer.js",["197","198","199","200"],"/Users/iris/majoramassage/src/reportWebVitals.js",[],"/Users/iris/majoramassage/src/Components/cropImage.js",[],{"ruleId":"201","replacedBy":"202"},{"ruleId":"203","replacedBy":"204"},{"ruleId":"205","severity":1,"message":"206","line":3,"column":8,"nodeType":"207","messageId":"208","endLine":3,"endColumn":11},{"ruleId":"205","severity":1,"message":"209","line":3,"column":26,"nodeType":"207","messageId":"208","endLine":3,"endColumn":33},{"ruleId":"205","severity":1,"message":"210","line":16,"column":20,"nodeType":"207","messageId":"208","endLine":16,"endColumn":31},{"ruleId":"205","severity":1,"message":"211","line":31,"column":13,"nodeType":"207","messageId":"208","endLine":31,"endColumn":21},{"ruleId":"212","severity":1,"message":"213","line":69,"column":1,"nodeType":"214","messageId":"215","endLine":69,"endColumn":48},{"ruleId":"212","severity":1,"message":"213","line":96,"column":1,"nodeType":"214","messageId":"215","endLine":96,"endColumn":47},{"ruleId":"212","severity":1,"message":"213","line":145,"column":1,"nodeType":"214","messageId":"215","endLine":145,"endColumn":43},{"ruleId":"212","severity":1,"message":"213","line":246,"column":1,"nodeType":"214","messageId":"215","endLine":246,"endColumn":40},{"ruleId":"212","severity":1,"message":"213","line":266,"column":1,"nodeType":"214","messageId":"215","endLine":266,"endColumn":45},{"ruleId":"212","severity":1,"message":"213","line":278,"column":1,"nodeType":"214","messageId":"215","endLine":278,"endColumn":42},{"ruleId":"212","severity":1,"message":"213","line":291,"column":1,"nodeType":"214","messageId":"215","endLine":291,"endColumn":42},{"ruleId":"216","severity":1,"message":"217","line":298,"column":8,"nodeType":"218","endLine":298,"endColumn":10,"suggestions":"219"},{"ruleId":"220","severity":1,"message":"221","line":318,"column":29,"nodeType":"222","endLine":318,"endColumn":140},{"ruleId":"223","severity":1,"message":"224","line":337,"column":72,"nodeType":"225","messageId":"226","endLine":337,"endColumn":74},{"ruleId":"205","severity":1,"message":"206","line":3,"column":8,"nodeType":"207","messageId":"208","endLine":3,"endColumn":11},{"ruleId":"205","severity":1,"message":"209","line":3,"column":26,"nodeType":"207","messageId":"208","endLine":3,"endColumn":33},{"ruleId":"205","severity":1,"message":"210","line":12,"column":20,"nodeType":"207","messageId":"208","endLine":12,"endColumn":31},{"ruleId":"212","severity":1,"message":"213","line":43,"column":1,"nodeType":"214","messageId":"215","endLine":43,"endColumn":47},{"ruleId":"212","severity":1,"message":"213","line":92,"column":1,"nodeType":"214","messageId":"215","endLine":92,"endColumn":39},{"ruleId":"212","severity":1,"message":"213","line":102,"column":1,"nodeType":"214","messageId":"215","endLine":102,"endColumn":42},{"ruleId":"220","severity":1,"message":"221","line":132,"column":25,"nodeType":"222","endLine":134,"endColumn":102},{"ruleId":"220","severity":1,"message":"221","line":160,"column":41,"nodeType":"222","endLine":160,"endColumn":93},{"ruleId":"220","severity":1,"message":"221","line":162,"column":41,"nodeType":"222","endLine":162,"endColumn":178},{"ruleId":"223","severity":1,"message":"224","line":189,"column":76,"nodeType":"225","messageId":"226","endLine":189,"endColumn":78},{"ruleId":"205","severity":1,"message":"206","line":3,"column":8,"nodeType":"207","messageId":"208","endLine":3,"endColumn":11},{"ruleId":"205","severity":1,"message":"209","line":3,"column":26,"nodeType":"207","messageId":"208","endLine":3,"endColumn":33},{"ruleId":"205","severity":1,"message":"210","line":14,"column":20,"nodeType":"207","messageId":"208","endLine":14,"endColumn":31},{"ruleId":"212","severity":1,"message":"213","line":42,"column":1,"nodeType":"214","messageId":"215","endLine":42,"endColumn":39},{"ruleId":"216","severity":1,"message":"227","line":89,"column":8,"nodeType":"218","endLine":89,"endColumn":26,"suggestions":"228"},{"ruleId":"229","severity":1,"message":"230","line":166,"column":33,"nodeType":"222","endLine":166,"endColumn":95},{"ruleId":"229","severity":1,"message":"230","line":190,"column":37,"nodeType":"222","endLine":190,"endColumn":99},{"ruleId":"201","replacedBy":"231"},{"ruleId":"203","replacedBy":"232"},{"ruleId":"233","severity":1,"message":"234","line":12,"column":25,"nodeType":"235","messageId":"236","endLine":12,"endColumn":27},{"ruleId":"205","severity":1,"message":"237","line":6,"column":23,"nodeType":"207","messageId":"208","endLine":6,"endColumn":31},{"ruleId":"205","severity":1,"message":"206","line":3,"column":8,"nodeType":"207","messageId":"208","endLine":3,"endColumn":11},{"ruleId":"205","severity":1,"message":"238","line":8,"column":55,"nodeType":"207","messageId":"208","endLine":8,"endColumn":62},{"ruleId":"212","severity":1,"message":"213","line":80,"column":1,"nodeType":"214","messageId":"215","endLine":80,"endColumn":39},{"ruleId":"212","severity":1,"message":"213","line":106,"column":1,"nodeType":"214","messageId":"215","endLine":106,"endColumn":51},{"ruleId":"212","severity":1,"message":"213","line":112,"column":1,"nodeType":"214","messageId":"215","endLine":112,"endColumn":52},{"ruleId":"212","severity":1,"message":"213","line":120,"column":1,"nodeType":"214","messageId":"215","endLine":120,"endColumn":50},{"ruleId":"212","severity":1,"message":"213","line":152,"column":1,"nodeType":"214","messageId":"215","endLine":152,"endColumn":48},{"ruleId":"212","severity":1,"message":"213","line":171,"column":1,"nodeType":"214","messageId":"215","endLine":171,"endColumn":45},{"ruleId":"212","severity":1,"message":"213","line":197,"column":1,"nodeType":"214","messageId":"215","endLine":197,"endColumn":44},{"ruleId":"212","severity":1,"message":"213","line":254,"column":1,"nodeType":"214","messageId":"215","endLine":254,"endColumn":59},{"ruleId":"216","severity":1,"message":"239","line":255,"column":15,"nodeType":"225","endLine":265,"endColumn":6},{"ruleId":"216","severity":1,"message":"240","line":265,"column":8,"nodeType":"218","endLine":265,"endColumn":27,"suggestions":"241"},{"ruleId":"220","severity":1,"message":"221","line":339,"column":59,"nodeType":"222","endLine":339,"endColumn":152},{"ruleId":"220","severity":1,"message":"221","line":342,"column":59,"nodeType":"222","endLine":342,"endColumn":193},{"ruleId":"205","severity":1,"message":"242","line":1,"column":38,"nodeType":"207","messageId":"208","endLine":1,"endColumn":51},{"ruleId":"216","severity":1,"message":"239","line":25,"column":15,"nodeType":"225","endLine":46,"endColumn":6},{"ruleId":"216","severity":1,"message":"243","line":46,"column":8,"nodeType":"218","endLine":46,"endColumn":17,"suggestions":"244"},{"ruleId":"220","severity":1,"message":"221","line":80,"column":21,"nodeType":"222","endLine":83,"endColumn":27},{"ruleId":"201","replacedBy":"245"},{"ruleId":"203","replacedBy":"246"},{"ruleId":"205","severity":1,"message":"247","line":1,"column":38,"nodeType":"207","messageId":"208","endLine":1,"endColumn":49},{"ruleId":"212","severity":1,"message":"213","line":37,"column":1,"nodeType":"214","messageId":"215","endLine":37,"endColumn":40},{"ruleId":"220","severity":1,"message":"221","line":95,"column":21,"nodeType":"222","endLine":98,"endColumn":27},{"ruleId":"220","severity":1,"message":"221","line":113,"column":21,"nodeType":"222","endLine":117,"endColumn":27},{"ruleId":"220","severity":1,"message":"221","line":121,"column":25,"nodeType":"222","endLine":125,"endColumn":27},{"ruleId":"205","severity":1,"message":"247","line":1,"column":38,"nodeType":"207","messageId":"208","endLine":1,"endColumn":49},{"ruleId":"212","severity":1,"message":"213","line":40,"column":1,"nodeType":"214","messageId":"215","endLine":40,"endColumn":39},{"ruleId":"233","severity":1,"message":"234","line":73,"column":38,"nodeType":"235","messageId":"236","endLine":73,"endColumn":40},{"ruleId":"233","severity":1,"message":"234","line":87,"column":46,"nodeType":"235","messageId":"236","endLine":87,"endColumn":48},{"ruleId":"233","severity":1,"message":"234","line":110,"column":31,"nodeType":"235","messageId":"236","endLine":110,"endColumn":33},{"ruleId":"220","severity":1,"message":"221","line":172,"column":21,"nodeType":"222","endLine":175,"endColumn":27},{"ruleId":"220","severity":1,"message":"221","line":190,"column":25,"nodeType":"222","endLine":194,"endColumn":27},{"ruleId":"220","severity":1,"message":"221","line":198,"column":25,"nodeType":"222","endLine":202,"endColumn":27},{"ruleId":"205","severity":1,"message":"247","line":1,"column":38,"nodeType":"207","messageId":"208","endLine":1,"endColumn":49},{"ruleId":"212","severity":1,"message":"213","line":37,"column":1,"nodeType":"214","messageId":"215","endLine":37,"endColumn":40},{"ruleId":"220","severity":1,"message":"221","line":96,"column":21,"nodeType":"222","endLine":99,"endColumn":27},{"ruleId":"220","severity":1,"message":"221","line":114,"column":21,"nodeType":"222","endLine":118,"endColumn":27},{"ruleId":"220","severity":1,"message":"221","line":122,"column":25,"nodeType":"222","endLine":126,"endColumn":27},{"ruleId":"205","severity":1,"message":"206","line":3,"column":8,"nodeType":"207","messageId":"208","endLine":3,"endColumn":11},{"ruleId":"205","severity":1,"message":"209","line":3,"column":26,"nodeType":"207","messageId":"208","endLine":3,"endColumn":33},{"ruleId":"205","severity":1,"message":"210","line":15,"column":21,"nodeType":"207","messageId":"208","endLine":15,"endColumn":32},{"ruleId":"212","severity":1,"message":"213","line":76,"column":1,"nodeType":"214","messageId":"215","endLine":76,"endColumn":40},{"ruleId":"212","severity":1,"message":"213","line":104,"column":1,"nodeType":"214","messageId":"215","endLine":104,"endColumn":44},{"ruleId":"233","severity":1,"message":"234","line":107,"column":29,"nodeType":"235","messageId":"236","endLine":107,"endColumn":31},{"ruleId":"233","severity":1,"message":"234","line":112,"column":28,"nodeType":"235","messageId":"236","endLine":112,"endColumn":30},{"ruleId":"233","severity":1,"message":"234","line":118,"column":30,"nodeType":"235","messageId":"236","endLine":118,"endColumn":32},{"ruleId":"233","severity":1,"message":"234","line":119,"column":30,"nodeType":"235","messageId":"236","endLine":119,"endColumn":32},{"ruleId":"233","severity":1,"message":"234","line":124,"column":26,"nodeType":"235","messageId":"236","endLine":124,"endColumn":28},{"ruleId":"212","severity":1,"message":"213","line":132,"column":1,"nodeType":"214","messageId":"215","endLine":132,"endColumn":47},{"ruleId":"212","severity":1,"message":"213","line":139,"column":1,"nodeType":"214","messageId":"215","endLine":139,"endColumn":45},{"ruleId":"233","severity":1,"message":"234","line":152,"column":33,"nodeType":"235","messageId":"236","endLine":152,"endColumn":35},{"ruleId":"212","severity":1,"message":"213","line":166,"column":1,"nodeType":"214","messageId":"215","endLine":166,"endColumn":43},{"ruleId":"233","severity":1,"message":"234","line":182,"column":37,"nodeType":"235","messageId":"236","endLine":182,"endColumn":39},{"ruleId":"212","severity":1,"message":"213","line":207,"column":1,"nodeType":"214","messageId":"215","endLine":207,"endColumn":43},{"ruleId":"233","severity":1,"message":"234","line":210,"column":29,"nodeType":"235","messageId":"236","endLine":210,"endColumn":31},{"ruleId":"220","severity":1,"message":"221","line":226,"column":41,"nodeType":"222","endLine":226,"endColumn":135},{"ruleId":"233","severity":1,"message":"234","line":257,"column":46,"nodeType":"235","messageId":"236","endLine":257,"endColumn":48},{"ruleId":"233","severity":1,"message":"234","line":260,"column":56,"nodeType":"235","messageId":"236","endLine":260,"endColumn":58},{"ruleId":"233","severity":1,"message":"234","line":270,"column":76,"nodeType":"235","messageId":"236","endLine":270,"endColumn":78},{"ruleId":"212","severity":1,"message":"213","line":348,"column":1,"nodeType":"214","messageId":"215","endLine":348,"endColumn":47},{"ruleId":"212","severity":1,"message":"213","line":368,"column":1,"nodeType":"214","messageId":"215","endLine":368,"endColumn":45},{"ruleId":"212","severity":1,"message":"213","line":395,"column":1,"nodeType":"214","messageId":"215","endLine":395,"endColumn":45},{"ruleId":"212","severity":1,"message":"213","line":435,"column":1,"nodeType":"214","messageId":"215","endLine":435,"endColumn":42},{"ruleId":"212","severity":1,"message":"213","line":444,"column":1,"nodeType":"214","messageId":"215","endLine":444,"endColumn":105},{"ruleId":"216","severity":1,"message":"248","line":453,"column":4,"nodeType":"218","endLine":453,"endColumn":16,"suggestions":"249"},{"ruleId":"212","severity":1,"message":"213","line":455,"column":1,"nodeType":"214","messageId":"215","endLine":455,"endColumn":49},{"ruleId":"220","severity":1,"message":"221","line":528,"column":29,"nodeType":"222","endLine":528,"endColumn":122},{"ruleId":"205","severity":1,"message":"250","line":1,"column":40,"nodeType":"207","messageId":"208","endLine":1,"endColumn":48},{"ruleId":"205","severity":1,"message":"251","line":3,"column":15,"nodeType":"207","messageId":"208","endLine":3,"endColumn":24},{"ruleId":"205","severity":1,"message":"209","line":3,"column":26,"nodeType":"207","messageId":"208","endLine":3,"endColumn":33},{"ruleId":"205","severity":1,"message":"252","line":5,"column":24,"nodeType":"207","messageId":"208","endLine":5,"endColumn":31},{"ruleId":"205","severity":1,"message":"253","line":12,"column":43,"nodeType":"207","messageId":"208","endLine":12,"endColumn":55},{"ruleId":"220","severity":1,"message":"221","line":29,"column":29,"nodeType":"222","endLine":31,"endColumn":83},{"ruleId":"233","severity":1,"message":"234","line":65,"column":71,"nodeType":"235","messageId":"236","endLine":65,"endColumn":73},{"ruleId":"205","severity":1,"message":"210","line":7,"column":20,"nodeType":"207","messageId":"208","endLine":7,"endColumn":31},{"ruleId":"205","severity":1,"message":"237","line":7,"column":33,"nodeType":"207","messageId":"208","endLine":7,"endColumn":41},{"ruleId":"205","severity":1,"message":"253","line":7,"column":43,"nodeType":"207","messageId":"208","endLine":7,"endColumn":55},{"ruleId":"254","severity":1,"message":"255","line":27,"column":20,"nodeType":"256","endLine":27,"endColumn":35},"no-native-reassign",["257"],"no-negated-in-lhs",["258"],"no-unused-vars","'app' is defined but never used.","Identifier","unusedVar","'storage' is defined but never used.","'currentUser' is assigned a value but never used.","'DateTime' is assigned a value but never used.","no-lone-blocks","Nested block is redundant.","BlockStatement","redundantNestedBlock","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'copyQueue'. Either include it or remove the dependency array.","ArrayExpression",["259"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","array-callback-return","Array.prototype.some() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","React Hook useEffect has a missing dependency: 'individiList'. Either include it or remove the dependency array.",["260"],"jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md",["257"],["258"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'userData' is assigned a value but never used.","'message' is defined but never used.","Effect callbacks are synchronous to prevent race conditions. Put the async function inside:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching","React Hook useEffect has a missing dependency: 'userData.uid'. Either include it or remove the dependency array.",["261"],"'createContext' is defined but never used.","React Hook useEffect has a missing dependency: 'userRef'. Either include it or remove the dependency array.",["262"],["257"],["258"],"'useCallback' is defined but never used.","React Hook useEffect has a missing dependency: 'value.Review'. Either include it or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setValue' needs the current value of 'value.Review'.",["263"],"'useState' is defined but never used.","'firestore' is defined but never used.","'Divider' is defined but never used.","'allEmployees' is assigned a value but never used.","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXAttribute","no-global-assign","no-unsafe-negation",{"desc":"264","fix":"265"},{"desc":"266","fix":"267"},{"desc":"268","fix":"269"},{"desc":"270","fix":"271"},{"desc":"272","fix":"273"},"Update the dependencies array to be: [copyQueue]",{"range":"274","text":"275"},"Update the dependencies array to be: [allMassageLitsts, individiList]",{"range":"276","text":"277"},"Update the dependencies array to be: [userData.uid, userData.urlPhoto]",{"range":"278","text":"279"},"Update the dependencies array to be: [loading, userRef]",{"range":"280","text":"281"},"Update the dependencies array to be: [finalStars, value.Review]",{"range":"282","text":"283"},[9808,9810],"[copyQueue]",[2842,2860],"[allMassageLitsts, individiList]",[7631,7650],"[userData.uid, userData.urlPhoto]",[1315,1324],"[loading, userRef]",[17900,17912],"[finalStars, value.Review]"]