[{"/Users/iris/majoramassage/src/App.js":"1","/Users/iris/majoramassage/src/Components/Auth.js":"2","/Users/iris/majoramassage/src/Components/Home.js":"3","/Users/iris/majoramassage/src/Components/LoggedinRoute.js":"4","/Users/iris/majoramassage/src/reportWebVitals.js":"5","/Users/iris/majoramassage/src/Components/Login.js":"6","/Users/iris/majoramassage/src/Firebase/firebase.js":"7","/Users/iris/majoramassage/src/Components/Register.js":"8","/Users/iris/majoramassage/src/Components/Profile.js":"9","/Users/iris/majoramassage/src/index.js":"10","/Users/iris/majoramassage/src/Components/AdminRoute.js":"11","/Users/iris/majoramassage/src/Components/AdminPage.js":"12"},{"size":1027,"mtime":1606927213500,"results":"13","hashOfConfig":"14"},{"size":1548,"mtime":1606669124993,"results":"15","hashOfConfig":"14"},{"size":3216,"mtime":1607006901557,"results":"16","hashOfConfig":"14"},{"size":523,"mtime":1607008368068,"results":"17","hashOfConfig":"14"},{"size":362,"mtime":1606503430657,"results":"18","hashOfConfig":"14"},{"size":2525,"mtime":1606901877592,"results":"19","hashOfConfig":"14"},{"size":604,"mtime":1606926058768,"results":"20","hashOfConfig":"14"},{"size":3650,"mtime":1606923476572,"results":"21","hashOfConfig":"14"},{"size":2140,"mtime":1607011980623,"results":"22","hashOfConfig":"14"},{"size":500,"mtime":1606503430646,"results":"23","hashOfConfig":"14"},{"size":679,"mtime":1607008341513,"results":"24","hashOfConfig":"14"},{"size":5410,"mtime":1607020789069,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"q2mra1",{"filePath":"29","messages":"30","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"51"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/iris/majoramassage/src/App.js",[],["56","57"],"/Users/iris/majoramassage/src/Components/Auth.js",["58","59"],"import React, { useState, useEffect, createContext } from 'react'\nimport app from \"../Firebase/firebase\"\nimport { firestore } from '../Firebase/firebase'\n\nexport const AuthContext = React.createContext()\n\nexport const AuthProvider = ({ children }) => {\n    const [ currentUser, setCurrentUser ] = useState(null)\n    const [ loading, setLoading ] = useState(true)\n    \n    const [ userData, setUserData ] = useState()\n\n    const userRef = firestore.collection(\"users\")\n\n    useEffect(() => {\n        app\n        .auth()\n        .onAuthStateChanged((user)=>{\n            if(user){\n                userRef.doc(user.uid)\n                .onSnapshot((doc)=>{\n                    if(doc.data()){\n                        const userData = {\n                            uid: doc.data().uid,\n                            email: doc.data().email,\n                            role: doc.data().role\n                        }\n                        setUserData(userData)\n                    }\n                })\n            }\n            setCurrentUser(user)\n            setTimeout(() => {\n                setLoading(false)\n            }, 1000);\n            \n        })\n    }, [loading])\n\n    if(loading){\n        return(\n            <div style={{textAlign: \"center\", marginTop: \"150px\"}}>\n                <h1>\n                    Loading . . . (Auth)\n                </h1>\n            </div>\n        )\n    }\n\n    return (\n        <AuthContext.Provider value={{ currentUser, userData }}>\n            {children}\n        </AuthContext.Provider>\n        \n    )\n}\n\n\n","/Users/iris/majoramassage/src/Components/Home.js",["60","61"],"/Users/iris/majoramassage/src/Components/LoggedinRoute.js",[],"/Users/iris/majoramassage/src/reportWebVitals.js",[],["62","63"],"/Users/iris/majoramassage/src/Components/Login.js",["64"],"/Users/iris/majoramassage/src/Firebase/firebase.js",[],"/Users/iris/majoramassage/src/Components/Register.js",["65","66"],"import React, { useState, useEffect, useCallback, useContext } from 'react'\nimport { Redirect } from 'react-router'\nimport app  from \"../Firebase/firebase\"\n\nimport { AuthContext } from \"./Auth\"\nimport { firestore } from '../Firebase/firebase'\n\nconst Register = ( {history} ) => {\n    const { currentUser } = useContext(AuthContext)\n\n    const [ email, setEmail ] = useState('')\n    const [ password, setPassword ] = useState('')\n\n    const [ loading, setLoading ] = useState(true)\n\n    const handleRegister = async (event) => {\n        event.preventDefault();\n        \n        try{\n            await app\n            .auth()\n            .createUserWithEmailAndPassword( email, password)\n            .then( async (result) => {\n                if( result ){\n                    const userRef = firestore.collection(\"users\")\n                    .doc(result.user.uid)\n\n                    const doc = await userRef.get()\n                    if(!doc.data()) {\n                        await userRef.set({\n                            uid: result.user.uid,\n                            displayName: result.user.email\n                                .substring(0, email.lastIndexOf(\"@\")),\n                            email: result.user.email,\n                            createed: new Date().valueOf(),\n                            role: \"member\"\n                        })\n                        \n                        setLoading(true)\n                    }\n                }\n            })\n        } \n        catch(error) {\n            console.log(error)\n\n            if(error.code == \"auth/email-already-in-use\"){\n                setLoading(true)\n\n                setTimeout(() => {\n                    setLoading(false)\n                    alert(error.message) \n                    history.push(\"/\")\n                }, 2000);\n                \n            } else {\n                alert(error.message)\n            }\n        }\n    }\n\n    useEffect(() => {\n        setTimeout(() => {\n            setLoading(false)\n        }, 2000);\n    }, [])\n\n    if( currentUser ){\n        return <Redirect to=\"/\" />\n    }\n\n    if(loading){\n        return(\n            <div style={{textAlign: \"center\", marginTop: \"150px\"}}>\n                <h1>\n                    <div className=\"spinner-border\" role=\"status\">\n                    </div>\n\n                    <div className=\"mt-5\">Loading . . . . (Register)</div>\n                </h1>\n            </div>\n        )\n    }\n\n    return (\n        <div style={{textAlign: \"center\", marginTop: \"150px\"}}>\n            <h1>Register</h1>\n\n            <form onSubmit= { handleRegister }>\n                <label className=\"mt-5\">\n                    Email <br/>\n                    <input \n                        required\n                        type=\"email\" \n                        placeholder=\"Email\" \n                        onChange={(e)=>{setEmail(e.target.value)}} />\n                </label><br/>\n\n                <label className=\"mt-2\">\n                    Password <br/>\n                    <input \n                        required\n                        type=\"password\" \n                        placeholder=\"Password\" \n                        onChange={(e)=>{setPassword(e.target.value)}} />\n                </label><br/>\n\n                <button className=\"mt-3 btn btn-primary\" type=\"submit\">Register</button>\n                \n            </form>\n\n            <button className=\"mt-3 btn btn-info\" >\n                <a href=\"/login\" className=\"text-light\" style={{textDecoration: \"none\"}}>\n                Login\n                </a>\n            </button>\n            \n        </div>\n    )\n}\n\nexport default Register\n","/Users/iris/majoramassage/src/Components/Profile.js",["67","68","69","70"],"import React, { useContext, useEffect, useState } from 'react'\nimport app from \"../Firebase/firebase\"\nimport { storage } from \"../Firebase/firebase\"\nimport { AuthContext } from \"./Auth\"\n\n\nfunction Profile() {\n    const { currentUser, userData } = useContext(AuthContext)\n\n    const [ pic, setPic ] = useState(\"\")\n\n    const [ loadingPic, setLoadingPic ] = useState(\"true\")\n\n    const  getPic  =  storage.child(\"employee/\" + currentUser.uid + \"/ProfilePic.jpg\")\n        .getDownloadURL()\n        .then((url) => {\n            setPic(url)\n        // This can be inserted into an <img> tag\n      }).catch((err) => {\n        console.log(err)\n      });\n\n    const tempPic = () => {\n        setTimeout(() => {\n            setLoadingPic(false)\n        }, 1000);\n    }\n\n    useEffect(() => {\n      console.log(currentUser.email)\n      console.log(pic)\n      \n      tempPic()\n    }, [])\n    \n    return (\n        <div style={{textAlign: \"center\", marginTop: \"150px\"}}>\n            {pic ? (\n                loadingPic ? null : ( <img src={pic} style={{width: \"20%\"}} />) \n            )  \n            : (\n                loadingPic ? null : ( <img src=\"https://icons-for-free.com/iconfiles/png/512/instagram+person+profile+icon-1320184028516722357.png\" style={{width: \"10%\"}}/> ) \n            )}\n            {/* still have unset picture delay */}\n            \n            <h1>Profile</h1>\n            <h2>{currentUser.email}</h2><br/>\n            <button className=\"mt-3 btn btn-info\" >\n                <a href=\"/admin\" className=\"text-light\" style={{textDecoration: \"none\"}}>\n                Admin \n                </a>\n            </button>\n            <h1>Data Firestore</h1>\n            <h2>uid: { userData? userData.uid : null }</h2>\n            <h2>displayName: { userData? currentUser.email.substring(0, currentUser.email.lastIndexOf(\"@\")) : null}</h2>\n            <h2>email: { userData? userData.email : null}</h2>\n            <h2>role: { userData? userData.role : null}</h2>\n            <br/>\n            <button className=\"btn btn-danger\" onClick={() => {app.auth().signOut()}}>Log Out</button>\n        </div>\n    )\n}\n\nexport default Profile\n","/Users/iris/majoramassage/src/index.js",[],["71","72"],"/Users/iris/majoramassage/src/Components/AdminRoute.js",[],"/Users/iris/majoramassage/src/Components/AdminPage.js",["73","74","75","76","77","78","79"],{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","replacedBy":"83"},{"ruleId":"84","severity":1,"message":"85","line":1,"column":38,"nodeType":"86","messageId":"87","endLine":1,"endColumn":51},{"ruleId":"88","severity":1,"message":"89","line":38,"column":8,"nodeType":"90","endLine":38,"endColumn":17,"suggestions":"91"},{"ruleId":"88","severity":1,"message":"92","line":20,"column":8,"nodeType":"90","endLine":20,"endColumn":10,"suggestions":"93"},{"ruleId":"94","severity":1,"message":"95","line":36,"column":29,"nodeType":"96","endLine":36,"endColumn":96},{"ruleId":"80","replacedBy":"97"},{"ruleId":"82","replacedBy":"98"},{"ruleId":"84","severity":1,"message":"99","line":1,"column":38,"nodeType":"86","messageId":"87","endLine":1,"endColumn":49},{"ruleId":"84","severity":1,"message":"99","line":1,"column":38,"nodeType":"86","messageId":"87","endLine":1,"endColumn":49},{"ruleId":"100","severity":1,"message":"101","line":47,"column":27,"nodeType":"102","messageId":"103","endLine":47,"endColumn":29},{"ruleId":"84","severity":1,"message":"104","line":14,"column":12,"nodeType":"86","messageId":"87","endLine":14,"endColumn":18},{"ruleId":"88","severity":1,"message":"105","line":34,"column":8,"nodeType":"90","endLine":34,"endColumn":10,"suggestions":"106"},{"ruleId":"107","severity":1,"message":"108","line":39,"column":39,"nodeType":"96","endLine":39,"endColumn":79},{"ruleId":"107","severity":1,"message":"108","line":42,"column":39,"nodeType":"96","endLine":42,"endColumn":173},{"ruleId":"80","replacedBy":"109"},{"ruleId":"82","replacedBy":"110"},{"ruleId":"84","severity":1,"message":"111","line":1,"column":10,"nodeType":"86","messageId":"87","endLine":1,"endColumn":20},{"ruleId":"84","severity":1,"message":"112","line":3,"column":8,"nodeType":"86","messageId":"87","endLine":3,"endColumn":11},{"ruleId":"84","severity":1,"message":"113","line":8,"column":26,"nodeType":"86","messageId":"87","endLine":8,"endColumn":34},{"ruleId":"84","severity":1,"message":"114","line":13,"column":13,"nodeType":"86","messageId":"87","endLine":13,"endColumn":17},{"ruleId":"84","severity":1,"message":"115","line":17,"column":13,"nodeType":"86","messageId":"87","endLine":17,"endColumn":20},{"ruleId":"107","severity":1,"message":"108","line":113,"column":43,"nodeType":"96","endLine":113,"endColumn":83},{"ruleId":"107","severity":1,"message":"108","line":116,"column":43,"nodeType":"96","endLine":116,"endColumn":177},"no-native-reassign",["116"],"no-negated-in-lhs",["117"],"no-unused-vars","'createContext' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'userRef'. Either include it or remove the dependency array.","ArrayExpression",["118"],"React Hook useEffect has missing dependencies: 'currentUser' and 'userData'. Either include them or remove the dependency array.",["119"],"jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement",["116"],["117"],"'useCallback' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'getPic' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'currentUser.email' and 'pic'. Either include them or remove the dependency array.",["120"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.",["116"],["117"],"'findByRole' is defined but never used.","'app' is defined but never used.","'userData' is assigned a value but never used.","'link' is assigned a value but never used.","'spinner' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"121","fix":"122"},{"desc":"123","fix":"124"},{"desc":"125","fix":"126"},"Update the dependencies array to be: [loading, userRef]",{"range":"127","text":"128"},"Update the dependencies array to be: [currentUser, userData]",{"range":"129","text":"130"},"Update the dependencies array to be: [currentUser.email, pic]",{"range":"131","text":"132"},[1163,1172],"[loading, userRef]",[441,443],"[currentUser, userData]",[873,875],"[currentUser.email, pic]"]